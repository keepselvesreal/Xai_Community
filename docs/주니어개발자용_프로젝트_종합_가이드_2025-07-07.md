# ì£¼ë‹ˆì–´ ê°œë°œììš© í”„ë¡œì íŠ¸ ì¢…í•© ê°€ì´ë“œ

> **ì‘ì„±ì¼**: 2025-07-07  
> **ëŒ€ìƒ**: ì£¼ë‹ˆì–´ ê°œë°œì  
> **ëª©ì **: XAI Community í”„ë¡œì íŠ¸ ì „ì²´ êµ¬ì¡° ì´í•´ ë° ê°œë°œ ê°€ì´ë“œ  

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#2-ì „ì²´-ì•„í‚¤í…ì²˜)
3. [ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ (FastAPI)](#3-ë°±ì—”ë“œ-ì•„í‚¤í…ì²˜-fastapi)
4. [í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜ (Remix React)](#4-í”„ë¡ íŠ¸ì—”ë“œ-ì•„í‚¤í…ì²˜-remix-react)
5. [ëª¨ë“ˆ ê°„ í†µì‹ ê³¼ ê´€ê³„](#5-ëª¨ë“ˆ-ê°„-í†µì‹ ê³¼-ê´€ê³„)
6. [ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ íŒ¨í„´](#6-ì£¼ìš”-ê¸°ëŠ¥-êµ¬í˜„-íŒ¨í„´)
7. [ê°œë°œ í™˜ê²½ê³¼ ë„êµ¬](#7-ê°œë°œ-í™˜ê²½ê³¼-ë„êµ¬)
8. [ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ](#8-ì‹¤ì œ-ì½”ë“œ-ì˜ˆì‹œ)
9. [ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­](#9-ê°œë°œ-ì‹œ-ì£¼ì˜ì‚¬í•­)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ
XAI CommunityëŠ” ì•„íŒŒíŠ¸ ì£¼ê±° ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìœ„í•œ ì¢…í•© í”Œë«í¼ì…ë‹ˆë‹¤. ì£¼ë¯¼ë“¤ì´ ì •ë³´ë¥¼ ê³µìœ í•˜ê³  ì†Œí†µí•  ìˆ˜ ìˆëŠ” ê²Œì‹œíŒ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.

### 1.2 ê¸°ìˆ  ìŠ¤íƒ
- **ë°±ì—”ë“œ**: FastAPI (Python) + MongoDB + Redis
- **í”„ë¡ íŠ¸ì—”ë“œ**: Remix (React) + TypeScript + Tailwind CSS
- **ì¸í”„ë¼**: Render (ë°±ì—”ë“œ) + Vercel (í”„ë¡ íŠ¸ì—”ë“œ)
- **ë°ì´í„°ë² ì´ìŠ¤**: MongoDB Atlas + Redis Cloud

### 1.3 í”„ë¡œì íŠ¸ êµ¬ì¡°
```
v5/
â”œâ”€â”€ backend/               # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ nadle_backend/    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”œâ”€â”€ models/       # ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ repositories/ # ë°ì´í„° ì ‘ê·¼ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ services/     # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ routers/      # API ë¼ìš°í„°
â”‚   â”‚   â””â”€â”€ database/     # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
â”‚   â”œâ”€â”€ tests/            # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â””â”€â”€ main.py           # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”œâ”€â”€ frontend/             # Remix React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ app/              # ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ
â”‚   â”‚   â”œâ”€â”€ components/   # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ routes/       # í˜ì´ì§€ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ contexts/     # React Context
â”‚   â”‚   â”œâ”€â”€ hooks/        # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â””â”€â”€ lib/          # ìœ í‹¸ë¦¬í‹° ë° API í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ tests/            # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ docs/                 # ë¬¸ì„œ
â”œâ”€â”€ tasks/                # íƒœìŠ¤í¬ ê´€ë¦¬
â””â”€â”€ records/              # ê°œë°œ ê¸°ë¡
```

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜

### 2.1 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend      â”‚    â”‚   Database      â”‚
â”‚   (Remix)       â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚   (MongoDB)     â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚     Cache       â”‚
                       â”‚    (Redis)      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ì•„í‚¤í…ì²˜ íŠ¹ì§•
- **ëª¨ë…¸ë ˆí¬**: ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œë¥¼ í•˜ë‚˜ì˜ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì§€í–¥**: ê° ê¸°ëŠ¥ë³„ë¡œ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ êµ¬ì¡°
- **ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜**: ë°±ì—”ë“œëŠ” ê³„ì¸µí˜• êµ¬ì¡°ë¡œ ì„¤ê³„
- **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜**: í”„ë¡ íŠ¸ì—”ë“œëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±

---

## 3. ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ (FastAPI)

### 3.1 ë ˆì´ì–´ êµ¬ì¡°
ë°±ì—”ë“œëŠ” **Domain-Driven Design (DDD)** ì›ì¹™ì„ ë”°ë¼ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Layer     â”‚  â† ë¼ìš°í„° (routers/)
â”‚   (routers/)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service Layer   â”‚  â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (services/)
â”‚ (services/)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Repository Layer â”‚  â† ë°ì´í„° ì ‘ê·¼ (repositories/)
â”‚(repositories/)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model Layer    â”‚  â† ë°ì´í„° ëª¨ë¸ (models/)
â”‚  (models/)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database      â”‚  â† MongoDB
â”‚   (MongoDB)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ê° ë ˆì´ì–´ì˜ ì—­í• 

#### 3.2.1 API Layer (ë¼ìš°í„°)
- **ìœ„ì¹˜**: `backend/nadle_backend/routers/`
- **ì—­í• **: HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬, ì…ë ¥ ê²€ì¦, ê¶Œí•œ í™•ì¸
- **ì£¼ìš” íŒŒì¼**:
  - `auth.py`: ì¸ì¦ ê´€ë ¨ API (`/api/auth`)
  - `posts.py`: ê²Œì‹œê¸€ ê´€ë ¨ API (`/api/posts`)
  - `comments.py`: ëŒ“ê¸€ ê´€ë ¨ API (`/api/posts/comments`)
  - `file_upload.py`: íŒŒì¼ ì—…ë¡œë“œ API (`/api/files`)
  - `users.py`: ì‚¬ìš©ì ê´€ë ¨ API (`/api/users`)

#### 3.2.2 Service Layer (ì„œë¹„ìŠ¤)
- **ìœ„ì¹˜**: `backend/nadle_backend/services/`
- **ì—­í• **: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ë³€í™˜, íŠ¸ëœì­ì…˜ ê´€ë¦¬
- **ì£¼ìš” ì„œë¹„ìŠ¤**:
  - `AuthService`: ì¸ì¦, ê¶Œí•œ ê´€ë¦¬
  - `PostsService`: ê²Œì‹œê¸€ ìƒì„±, ìˆ˜ì •, ì‚­ì œ, ì¡°íšŒ
  - `CommentsService`: ëŒ“ê¸€ ì‹œìŠ¤í…œ (ì¤‘ì²© ëŒ“ê¸€ ì§€ì›)
  - `FileStorageService`: íŒŒì¼ ì—…ë¡œë“œ, ì €ì¥, ê´€ë¦¬
  - `ContentService`: ë§ˆí¬ë‹¤ìš´/HTML ì»¨í…ì¸  ì²˜ë¦¬
  - `CacheService`: Redis ìºì‹œ ê´€ë¦¬

#### 3.2.3 Repository Layer (ì €ì¥ì†Œ)
- **ìœ„ì¹˜**: `backend/nadle_backend/repositories/`
- **ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ CRUD ì—°ì‚°, ì¿¼ë¦¬ ìµœì í™”
- **ì£¼ìš” ì €ì¥ì†Œ**:
  - `UserRepository`: ì‚¬ìš©ì ë°ì´í„° ê´€ë¦¬
  - `PostRepository`: ê²Œì‹œê¸€ ë°ì´í„° ê´€ë¦¬
  - `CommentRepository`: ëŒ“ê¸€ ë°ì´í„° ê´€ë¦¬
  - `FileRepository`: íŒŒì¼ ë©”íƒ€ë°ì´í„° ê´€ë¦¬
  - `UserReactionRepository`: ì‚¬ìš©ì ë°˜ì‘ ê´€ë¦¬

#### 3.2.4 Model Layer (ëª¨ë¸)
- **ìœ„ì¹˜**: `backend/nadle_backend/models/`
- **ì—­í• **: ë°ì´í„° êµ¬ì¡° ì •ì˜, ìœ íš¨ì„± ê²€ì‚¬
- **ì£¼ìš” ëª¨ë¸**:
  - `User`: ì‚¬ìš©ì ì •ë³´
  - `Post`: ê²Œì‹œê¸€ ì •ë³´
  - `Comment`: ëŒ“ê¸€ ì •ë³´
  - `UserReaction`: ì‚¬ìš©ì ë°˜ì‘ (ì¢‹ì•„ìš”, ë¶ë§ˆí¬ ë“±)
  - `FileRecord`: íŒŒì¼ ì •ë³´

### 3.3 ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

#### 3.3.1 ì£¼ìš” ì»¬ë ‰ì…˜
```javascript
// users ì»¬ë ‰ì…˜
{
  "_id": ObjectId,
  "email": "user@example.com",
  "user_handle": "unique_handle",
  "display_name": "ì‚¬ìš©ì ì´ë¦„",
  "bio": "ìê¸°ì†Œê°œ",
  "password_hash": "hashed_password",
  "status": "active",
  "created_at": ISODate,
  "updated_at": ISODate
}

// posts ì»¬ë ‰ì…˜
{
  "_id": ObjectId,
  "title": "ê²Œì‹œê¸€ ì œëª©",
  "content": "ê²Œì‹œê¸€ ë‚´ìš©",
  "slug": "unique-slug",
  "author_id": ObjectId,
  "service": "residential_community",
  "metadata": {
    "type": "announcement",
    "category": "ì…ì£¼ ì •ë³´",
    "tags": ["ê³µì§€", "ì¤‘ìš”"],
    "attachments": []
  },
  "view_count": 0,
  "like_count": 0,
  "comment_count": 0,
  "created_at": ISODate,
  "updated_at": ISODate
}

// comments ì»¬ë ‰ì…˜
{
  "_id": ObjectId,
  "content": "ëŒ“ê¸€ ë‚´ìš©",
  "parent_id": ObjectId,      // ê²Œì‹œê¸€ ID
  "parent_comment_id": ObjectId, // ë¶€ëª¨ ëŒ“ê¸€ ID (ì¤‘ì²© ëŒ“ê¸€ìš©)
  "author_id": ObjectId,
  "like_count": 0,
  "dislike_count": 0,
  "reply_count": 0,
  "created_at": ISODate,
  "updated_at": ISODate
}

// user_reactions ì»¬ë ‰ì…˜
{
  "_id": ObjectId,
  "user_id": ObjectId,
  "target_type": "post", // "post" | "comment"
  "target_id": ObjectId,
  "liked": false,
  "disliked": false,
  "bookmarked": false,
  "created_at": ISODate,
  "updated_at": ISODate
}
```

### 3.4 ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„

#### 3.4.1 ì¸ì¦ ì‹œìŠ¤í…œ
- **JWT ê¸°ë°˜ ì¸ì¦**: Access Token + Refresh Token
- **í† í° ìë™ ê°±ì‹ **: ë§Œë£Œ ì‹œ ìë™ìœ¼ë¡œ ìƒˆ í† í° ë°œê¸‰
- **ê¶Œí•œ ê´€ë¦¬**: ì‚¬ìš©ì ì—­í• ë³„ ê¶Œí•œ ì œì–´

#### 3.4.2 ê²Œì‹œê¸€ ì‹œìŠ¤í…œ
- **CRUD ì—°ì‚°**: ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ
- **ê²€ìƒ‰ ê¸°ëŠ¥**: ì œëª©, ë‚´ìš©, íƒœê·¸ ê¸°ë°˜ ê²€ìƒ‰
- **í•„í„°ë§**: ì¹´í…Œê³ ë¦¬, ì„œë¹„ìŠ¤ë³„ í•„í„°ë§
- **í˜ì´ì§€ë„¤ì´ì…˜**: íš¨ìœ¨ì ì¸ ë°ì´í„° ë¡œë”©

#### 3.4.3 ëŒ“ê¸€ ì‹œìŠ¤í…œ
- **ì¤‘ì²© ëŒ“ê¸€**: ìµœëŒ€ 3ë‹¨ê³„ê¹Œì§€ ì¤‘ì²© ì§€ì›
- **ë°˜ì‘ ê¸°ëŠ¥**: ì¢‹ì•„ìš”, ì‹«ì–´ìš” ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸**: ëŒ“ê¸€ ìˆ˜ ìë™ ì—…ë°ì´íŠ¸

---

## 4. í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜ (Remix React)

### 4.1 ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: Remix (React ê¸°ë°˜)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Testing**: Vitest + React Testing Library
- **Build Tool**: Vite

### 4.2 í´ë” êµ¬ì¡°
```
frontend/app/
â”œâ”€â”€ components/           # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/          # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â””â”€â”€ Notification.tsx
â”‚   â”œâ”€â”€ layout/          # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ Header.tsx
â”‚   â”œâ”€â”€ ui/              # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â””â”€â”€ Modal.tsx
â”‚   â”œâ”€â”€ post/            # ê²Œì‹œê¸€ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ PostCard.tsx
â”‚   â”‚   â”œâ”€â”€ PostFilters.tsx
â”‚   â”‚   â””â”€â”€ PostForm.tsx
â”‚   â””â”€â”€ comment/         # ëŒ“ê¸€ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ CommentSection.tsx
â”‚       â”œâ”€â”€ CommentItem.tsx
â”‚       â””â”€â”€ CommentForm.tsx
â”œâ”€â”€ contexts/            # React Context
â”‚   â”œâ”€â”€ AuthContext.tsx
â”‚   â”œâ”€â”€ NotificationContext.tsx
â”‚   â””â”€â”€ ThemeContext.tsx
â”œâ”€â”€ hooks/               # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useApi.ts
â”‚   â””â”€â”€ useLocalStorage.ts
â”œâ”€â”€ lib/                 # ìœ í‹¸ë¦¬í‹° ë° API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ utils.ts
â”‚   â””â”€â”€ constants.ts
â”œâ”€â”€ routes/              # í˜ì´ì§€ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ _index.tsx       # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ auth/            # ì¸ì¦ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ login.tsx
â”‚   â”‚   â””â”€â”€ register.tsx
â”‚   â”œâ”€â”€ board/           # ê²Œì‹œíŒ
â”‚   â”‚   â”œâ”€â”€ _index.tsx
â”‚   â”‚   â”œâ”€â”€ $slug.tsx
â”‚   â”‚   â””â”€â”€ write.tsx
â”‚   â””â”€â”€ services/        # ì„œë¹„ìŠ¤ í˜ì´ì§€
â”‚       â”œâ”€â”€ _index.tsx
â”‚       â””â”€â”€ $slug.tsx
â”œâ”€â”€ styles/              # ìŠ¤íƒ€ì¼ íŒŒì¼
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ types/               # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â””â”€â”€ post.ts
â””â”€â”€ utils/               # í—¬í¼ í•¨ìˆ˜
    â”œâ”€â”€ formatters.ts
    â””â”€â”€ validators.ts
```

### 4.3 ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ ê´€ê³„

#### 4.3.1 ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
```tsx
// AppLayout.tsx - ì „ì²´ ì•± ë ˆì´ì•„ì›ƒ
AppLayout
â”œâ”€â”€ Header                 // ìƒë‹¨ í—¤ë”
â”œâ”€â”€ Sidebar               // ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€ main (children)       // í˜ì´ì§€ ì½˜í…ì¸ 
â””â”€â”€ Footer                // í•˜ë‹¨ í‘¸í„°
```

#### 4.3.2 ê²Œì‹œê¸€ ì»´í¬ë„ŒíŠ¸
```tsx
// ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€
PostListPage
â”œâ”€â”€ PostFilters           // í•„í„°ë§ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ PostCard[]            // ê²Œì‹œê¸€ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ PostMeta         // ê²Œì‹œê¸€ ë©”íƒ€ ì •ë³´
â”‚   â”œâ”€â”€ PostContent      // ê²Œì‹œê¸€ ë‚´ìš©
â”‚   â””â”€â”€ PostActions      // ì•¡ì…˜ ë²„íŠ¼ë“¤
â””â”€â”€ Pagination           // í˜ì´ì§€ë„¤ì´ì…˜
```

#### 4.3.3 ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸
```tsx
// ëŒ“ê¸€ ì„¹ì…˜
CommentSection
â”œâ”€â”€ CommentForm          // ëŒ“ê¸€ ì‘ì„± í¼
â””â”€â”€ CommentList          // ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸
    â””â”€â”€ CommentItem[]    // ê°œë³„ ëŒ“ê¸€
        â”œâ”€â”€ CommentContent
        â”œâ”€â”€ CommentActions
        â””â”€â”€ CommentReplies  // ì¤‘ì²© ëŒ“ê¸€
```

### 4.4 ìƒíƒœ ê´€ë¦¬ (Context API)

#### 4.4.1 AuthContext
```tsx
// ì¸ì¦ ìƒíƒœ ê´€ë¦¬
interface AuthContextType {
  user: User | null;
  token: string | null;
  login: (credentials: LoginCredentials) => Promise<void>;
  logout: () => void;
  register: (userData: RegisterData) => Promise<void>;
  refreshToken: () => Promise<void>;
}

const AuthContext = createContext<AuthContextType | null>(null);
```

#### 4.4.2 NotificationContext
```tsx
// ì•Œë¦¼ ê´€ë¦¬
interface NotificationContextType {
  notifications: Notification[];
  addNotification: (notification: Notification) => void;
  removeNotification: (id: string) => void;
  clearNotifications: () => void;
}
```

### 4.5 ë¼ìš°íŒ… êµ¬ì¡°

#### 4.5.1 ì£¼ìš” ë¼ìš°íŠ¸
```tsx
// ë¼ìš°íŠ¸ êµ¬ì¡°
routes/
â”œâ”€â”€ _index.tsx                    // í™ˆí˜ì´ì§€ (/)
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ login.tsx                // ë¡œê·¸ì¸ (/auth/login)
â”‚   â””â”€â”€ register.tsx             // íšŒì›ê°€ì… (/auth/register)
â”œâ”€â”€ board/
â”‚   â”œâ”€â”€ _index.tsx               // ê²Œì‹œíŒ ëª©ë¡ (/board)
â”‚   â”œâ”€â”€ $slug.tsx                // ê²Œì‹œê¸€ ìƒì„¸ (/board/[slug])
â”‚   â””â”€â”€ write.tsx                // ê¸€ ì‘ì„± (/board/write)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ _index.tsx               // ì„œë¹„ìŠ¤ ëª©ë¡ (/services)
â”‚   â””â”€â”€ $slug.tsx                // ì„œë¹„ìŠ¤ ìƒì„¸ (/services/[slug])
â”œâ”€â”€ mypage/
â”‚   â”œâ”€â”€ _index.tsx               // ë§ˆì´í˜ì´ì§€ (/mypage)
â”‚   â””â”€â”€ settings.tsx             // ì„¤ì • (/mypage/settings)
â””â”€â”€ info/
    â”œâ”€â”€ _index.tsx               // ì •ë³´ í˜ì´ì§€ (/info)
    â””â”€â”€ tips.tsx                 // íŒ í˜ì´ì§€ (/info/tips)
```

#### 4.5.2 ë™ì  ë¼ìš°íŒ…
```tsx
// $slug.tsx - ë™ì  ë¼ìš°íŒ…
export const loader: LoaderFunction = async ({ params }) => {
  const { slug } = params;
  const post = await getPostBySlug(slug);
  return json({ post });
};

export default function PostDetail() {
  const { post } = useLoaderData<typeof loader>();
  return <PostDetailView post={post} />;
}
```

---

## 5. ëª¨ë“ˆ ê°„ í†µì‹ ê³¼ ê´€ê³„

### 5.1 ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨
```
Frontend Component
         â”‚
         â–¼
   Custom Hook
         â”‚
         â–¼
   API Client
         â”‚
         â–¼ (HTTP Request)
   Backend Router
         â”‚
         â–¼
   Service Layer
         â”‚
         â–¼
 Repository Layer
         â”‚
         â–¼
   Database
```

### 5.2 API í†µì‹  êµ¬ì¡°

#### 5.2.1 API í´ë¼ì´ì–¸íŠ¸
```typescript
// lib/api.ts
class ApiClient {
  private baseURL: string;
  private token: string | null = null;

  constructor(baseURL: string) {
    this.baseURL = baseURL;
  }

  // í† í° ì„¤ì •
  setToken(token: string) {
    this.token = token;
  }

  // HTTP ìš”ì²­ ë©”ì„œë“œ
  async request<T>(
    endpoint: string,
    options: RequestOptions = {}
  ): Promise<T> {
    const url = `${this.baseURL}${endpoint}`;
    const config: RequestInit = {
      headers: {
        'Content-Type': 'application/json',
        ...(this.token && { Authorization: `Bearer ${this.token}` }),
        ...options.headers,
      },
      ...options,
    };

    const response = await fetch(url, config);
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    return response.json();
  }

  // ê²Œì‹œê¸€ API
  async getPosts(params?: GetPostsParams) {
    const queryString = new URLSearchParams(params).toString();
    return this.request<PostsResponse>(`/api/posts?${queryString}`);
  }

  async getPost(slug: string) {
    return this.request<Post>(`/api/posts/${slug}`);
  }

  async createPost(postData: CreatePostData) {
    return this.request<Post>('/api/posts', {
      method: 'POST',
      body: JSON.stringify(postData),
    });
  }
}
```

#### 5.2.2 ì»¤ìŠ¤í…€ í›…
```typescript
// hooks/useApi.ts
export function useApi() {
  const { token } = useAuth();
  const apiClient = useMemo(() => {
    const client = new ApiClient(process.env.REACT_APP_API_URL);
    if (token) client.setToken(token);
    return client;
  }, [token]);

  return apiClient;
}

// hooks/usePosts.ts
export function usePosts(params?: GetPostsParams) {
  const [posts, setPosts] = useState<Post[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const api = useApi();

  const fetchPosts = useCallback(async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await api.getPosts(params);
      setPosts(response.posts);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Unknown error');
    } finally {
      setLoading(false);
    }
  }, [api, params]);

  useEffect(() => {
    fetchPosts();
  }, [fetchPosts]);

  return { posts, loading, error, refetch: fetchPosts };
}
```

### 5.3 ì¸ì¦ ì‹œìŠ¤í…œ íë¦„

#### 5.3.1 ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤
```
1. ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í¼ ì œì¶œ
2. Frontendê°€ /api/auth/loginì— POST ìš”ì²­
3. Backendê°€ ì‚¬ìš©ì ì¸ì¦ í™•ì¸
4. JWT í† í° ìƒì„± ë° ë°˜í™˜
5. Frontendê°€ í† í°ì„ localStorageì— ì €ì¥
6. í›„ì† ìš”ì²­ì— í† í° í¬í•¨
```

#### 5.3.2 í† í° ê°±ì‹  í”„ë¡œì„¸ìŠ¤
```
1. API ìš”ì²­ ì‹œ í† í° ë§Œë£Œ í™•ì¸
2. ë§Œë£Œëœ ê²½ìš° refresh tokenìœ¼ë¡œ ìƒˆ í† í° ìš”ì²­
3. ìƒˆ í† í° ì €ì¥ ë° ì›ë˜ ìš”ì²­ ì¬ì‹œë„
4. Refresh tokenë„ ë§Œë£Œëœ ê²½ìš° ë¡œê·¸ì•„ì›ƒ
```

---

## 6. ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ íŒ¨í„´

### 6.1 ê²Œì‹œê¸€ ê´€ë¦¬ ì‹œìŠ¤í…œ

#### 6.1.1 ë°±ì—”ë“œ êµ¬í˜„
```python
# services/posts_service.py
class PostsService:
    def __init__(self, post_repository: PostRepository):
        self.post_repository = post_repository

    async def create_post(self, post_data: PostCreate, author_id: str) -> Post:
        # ìŠ¬ëŸ¬ê·¸ ìƒì„±
        slug = self._generate_slug(post_data.title)
        
        # ì¤‘ë³µ ìŠ¬ëŸ¬ê·¸ í™•ì¸
        if await self.post_repository.get_by_slug(slug):
            slug = f"{slug}-{int(time.time())}"
        
        # ê²Œì‹œê¸€ ìƒì„±
        post = Post(
            title=post_data.title,
            content=post_data.content,
            slug=slug,
            author_id=author_id,
            service=post_data.service,
            metadata=post_data.metadata
        )
        
        return await self.post_repository.create(post)

    async def get_posts(self, params: GetPostsParams) -> PostsResponse:
        # í•„í„°ë§ ì¡°ê±´ êµ¬ì„±
        filter_conditions = {}
        if params.service:
            filter_conditions['service'] = params.service
        if params.category:
            filter_conditions['metadata.category'] = params.category
        
        # ê²€ìƒ‰ ì¡°ê±´ ì¶”ê°€
        if params.search:
            filter_conditions['$or'] = [
                {'title': {'$regex': params.search, '$options': 'i'}},
                {'content': {'$regex': params.search, '$options': 'i'}}
            ]
        
        # í˜ì´ì§€ë„¤ì´ì…˜
        skip = (params.page - 1) * params.limit
        
        posts = await self.post_repository.find_many(
            filter_conditions,
            skip=skip,
            limit=params.limit,
            sort=[('created_at', -1)]
        )
        
        total = await self.post_repository.count(filter_conditions)
        
        return PostsResponse(
            posts=posts,
            total=total,
            page=params.page,
            limit=params.limit
        )
```

#### 6.1.2 í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
```tsx
// components/post/PostCard.tsx
interface PostCardProps {
  post: Post;
  onLike?: (postId: string) => void;
  onBookmark?: (postId: string) => void;
}

export function PostCard({ post, onLike, onBookmark }: PostCardProps) {
  const navigate = useNavigate();
  
  const handleCardClick = () => {
    navigate(`/board/${post.slug}`);
  };
  
  return (
    <Card 
      className="hover:shadow-lg transition-shadow cursor-pointer"
      onClick={handleCardClick}
    >
      <CardHeader>
        <div className="flex justify-between items-start">
          <div>
            <h3 className="text-lg font-semibold text-gray-900">
              {post.title}
            </h3>
            <p className="text-sm text-gray-600">
              {post.metadata.category} â€¢ {formatDate(post.created_at)}
            </p>
          </div>
          <div className="flex space-x-2">
            <LikeButton 
              postId={post.id}
              likeCount={post.like_count}
              onLike={onLike}
            />
            <BookmarkButton 
              postId={post.id}
              onBookmark={onBookmark}
            />
          </div>
        </div>
      </CardHeader>
      
      <CardContent>
        <p className="text-gray-700 line-clamp-3">
          {post.content}
        </p>
        
        <div className="mt-4 flex items-center space-x-4 text-sm text-gray-500">
          <span className="flex items-center">
            <Eye className="w-4 h-4 mr-1" />
            {post.view_count}
          </span>
          <span className="flex items-center">
            <MessageSquare className="w-4 h-4 mr-1" />
            {post.comment_count}
          </span>
        </div>
      </CardContent>
    </Card>
  );
}
```

### 6.2 ëŒ“ê¸€ ì‹œìŠ¤í…œ

#### 6.2.1 ì¤‘ì²© ëŒ“ê¸€ êµ¬í˜„
```python
# services/comments_service.py
class CommentsService:
    MAX_NESTING_LEVEL = 3  # ìµœëŒ€ ì¤‘ì²© ê¹Šì´

    async def create_comment(self, comment_data: CommentCreate, author_id: str) -> Comment:
        # ë¶€ëª¨ ëŒ“ê¸€ í™•ì¸ (ì¤‘ì²© ëŒ“ê¸€ì˜ ê²½ìš°)
        nesting_level = 0
        if comment_data.parent_comment_id:
            parent_comment = await self.comment_repository.get_by_id(
                comment_data.parent_comment_id
            )
            if not parent_comment:
                raise ValueError("ë¶€ëª¨ ëŒ“ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
            
            nesting_level = await self._get_nesting_level(parent_comment)
            if nesting_level >= self.MAX_NESTING_LEVEL:
                raise ValueError("ëŒ“ê¸€ ì¤‘ì²© ê¹Šì´ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.")
        
        # ëŒ“ê¸€ ìƒì„±
        comment = Comment(
            content=comment_data.content,
            parent_id=comment_data.parent_id,
            parent_comment_id=comment_data.parent_comment_id,
            author_id=author_id,
            nesting_level=nesting_level + 1
        )
        
        created_comment = await self.comment_repository.create(comment)
        
        # ë¶€ëª¨ ëŒ“ê¸€ì˜ ë‹µê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
        if comment_data.parent_comment_id:
            await self.comment_repository.increment_reply_count(
                comment_data.parent_comment_id
            )
        
        # ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
        await self.post_repository.increment_comment_count(comment_data.parent_id)
        
        return created_comment

    async def get_comments_tree(self, post_id: str) -> List[CommentWithReplies]:
        # ëª¨ë“  ëŒ“ê¸€ ì¡°íšŒ
        comments = await self.comment_repository.find_by_post_id(post_id)
        
        # íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë³€í™˜
        return self._build_comment_tree(comments)

    def _build_comment_tree(self, comments: List[Comment]) -> List[CommentWithReplies]:
        # ëŒ“ê¸€ì„ IDë¡œ ë§¤í•‘
        comment_map = {comment.id: comment for comment in comments}
        
        # ë£¨íŠ¸ ëŒ“ê¸€ê³¼ ë‹µê¸€ ë¶„ë¦¬
        root_comments = []
        
        for comment in comments:
            if comment.parent_comment_id is None:
                # ë£¨íŠ¸ ëŒ“ê¸€
                root_comments.append(CommentWithReplies(
                    comment=comment,
                    replies=[]
                ))
            else:
                # ë‹µê¸€ - ë¶€ëª¨ ëŒ“ê¸€ì— ì¶”ê°€
                parent_comment = comment_map.get(comment.parent_comment_id)
                if parent_comment:
                    # ë¶€ëª¨ ëŒ“ê¸€ì˜ replies ë°°ì—´ì— ì¶”ê°€
                    pass  # ì¬ê·€ì ìœ¼ë¡œ íŠ¸ë¦¬ êµ¬ì¡° ìƒì„±
        
        return root_comments
```

#### 6.2.2 í”„ë¡ íŠ¸ì—”ë“œ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸
```tsx
// components/comment/CommentSection.tsx
interface CommentSectionProps {
  postSlug: string;
  postId: string;
}

export function CommentSection({ postSlug, postId }: CommentSectionProps) {
  const [comments, setComments] = useState<CommentWithReplies[]>([]);
  const [loading, setLoading] = useState(true);
  const api = useApi();

  const fetchComments = useCallback(async () => {
    try {
      const response = await api.getComments(postSlug);
      setComments(response.comments);
    } catch (error) {
      console.error('ëŒ“ê¸€ ë¡œë”© ì‹¤íŒ¨:', error);
    } finally {
      setLoading(false);
    }
  }, [api, postSlug]);

  const handleAddComment = async (content: string, parentCommentId?: string) => {
    try {
      const newComment = await api.createComment({
        content,
        parent_id: postId,
        parent_comment_id: parentCommentId
      });
      
      // ëŒ“ê¸€ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
      await fetchComments();
      
      // ì„±ê³µ ì•Œë¦¼
      toast.success('ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
      toast.error('ëŒ“ê¸€ ì‘ì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  };

  useEffect(() => {
    fetchComments();
  }, [fetchComments]);

  if (loading) return <CommentSkeleton />;

  return (
    <div className="mt-8">
      <h3 className="text-lg font-semibold mb-4">
        ëŒ“ê¸€ {comments.length}ê°œ
      </h3>
      
      <CommentForm onSubmit={handleAddComment} />
      
      <div className="mt-6 space-y-4">
        {comments.map((commentWithReplies) => (
          <CommentItem
            key={commentWithReplies.comment.id}
            comment={commentWithReplies.comment}
            replies={commentWithReplies.replies}
            onReply={handleAddComment}
            level={0}
          />
        ))}
      </div>
    </div>
  );
}

// components/comment/CommentItem.tsx
interface CommentItemProps {
  comment: Comment;
  replies: CommentWithReplies[];
  onReply: (content: string, parentCommentId: string) => void;
  level: number;
}

export function CommentItem({ comment, replies, onReply, level }: CommentItemProps) {
  const [showReplyForm, setShowReplyForm] = useState(false);
  const [replyContent, setReplyContent] = useState('');
  
  const maxLevel = 3;
  const canReply = level < maxLevel;

  const handleReply = () => {
    if (replyContent.trim()) {
      onReply(replyContent, comment.id);
      setReplyContent('');
      setShowReplyForm(false);
    }
  };

  return (
    <div className={`${level > 0 ? 'ml-8 border-l-2 border-gray-200 pl-4' : ''}`}>
      <div className="bg-white rounded-lg p-4 shadow-sm">
        <div className="flex justify-between items-start mb-2">
          <div className="flex items-center space-x-2">
            <span className="font-medium text-gray-900">
              {comment.author.display_name}
            </span>
            <span className="text-sm text-gray-500">
              {formatDate(comment.created_at)}
            </span>
          </div>
          
          <div className="flex items-center space-x-2">
            <LikeButton 
              commentId={comment.id}
              likeCount={comment.like_count}
            />
            <DislikeButton 
              commentId={comment.id}
              dislikeCount={comment.dislike_count}
            />
          </div>
        </div>
        
        <p className="text-gray-700 mb-3">{comment.content}</p>
        
        {canReply && (
          <button
            onClick={() => setShowReplyForm(!showReplyForm)}
            className="text-sm text-blue-600 hover:text-blue-800"
          >
            ë‹µê¸€
          </button>
        )}
        
        {showReplyForm && (
          <div className="mt-3 p-3 bg-gray-50 rounded">
            <textarea
              value={replyContent}
              onChange={(e) => setReplyContent(e.target.value)}
              placeholder="ë‹µê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."
              className="w-full p-2 border border-gray-300 rounded resize-none"
              rows={3}
            />
            <div className="flex justify-end space-x-2 mt-2">
              <button
                onClick={() => setShowReplyForm(false)}
                className="px-3 py-1 text-sm text-gray-600 hover:text-gray-800"
              >
                ì·¨ì†Œ
              </button>
              <button
                onClick={handleReply}
                disabled={!replyContent.trim()}
                className="px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"
              >
                ë‹µê¸€ ì‘ì„±
              </button>
            </div>
          </div>
        )}
      </div>
      
      {/* ë‹µê¸€ ë Œë”ë§ */}
      {replies.length > 0 && (
        <div className="mt-3 space-y-3">
          {replies.map((reply) => (
            <CommentItem
              key={reply.comment.id}
              comment={reply.comment}
              replies={reply.replies}
              onReply={onReply}
              level={level + 1}
            />
          ))}
        </div>
      )}
    </div>
  );
}
```

### 6.3 íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ

#### 6.3.1 ë°±ì—”ë“œ íŒŒì¼ ì²˜ë¦¬
```python
# services/file_storage_service.py
class FileStorageService:
    ALLOWED_EXTENSIONS = {'.jpg', '.jpeg', '.png', '.gif', '.pdf', '.doc', '.docx'}
    MAX_FILE_SIZE = 10 * 1024 * 1024  # 10MB

    def __init__(self, file_repository: FileRepository):
        self.file_repository = file_repository
        self.upload_dir = Path("uploads")
        self.upload_dir.mkdir(exist_ok=True)

    async def upload_file(self, file: UploadFile, uploader_id: str) -> FileRecord:
        # íŒŒì¼ ê²€ì¦
        self._validate_file(file)
        
        # ì•ˆì „í•œ íŒŒì¼ëª… ìƒì„±
        file_id = str(uuid.uuid4())
        file_extension = Path(file.filename).suffix.lower()
        safe_filename = f"{file_id}{file_extension}"
        
        # íŒŒì¼ ì €ì¥
        file_path = self.upload_dir / safe_filename
        content = await file.read()
        
        with open(file_path, "wb") as f:
            f.write(content)
        
        # íŒŒì¼ ë©”íƒ€ë°ì´í„° ì €ì¥
        file_record = FileRecord(
            id=file_id,
            filename=file.filename,
            content_type=file.content_type,
            size=len(content),
            uploader_id=uploader_id,
            file_path=str(file_path)
        )
        
        return await self.file_repository.create(file_record)

    def _validate_file(self, file: UploadFile) -> None:
        # íŒŒì¼ í™•ì¥ì ê²€ì¦
        file_extension = Path(file.filename).suffix.lower()
        if file_extension not in self.ALLOWED_EXTENSIONS:
            raise ValueError(f"í—ˆìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤: {file_extension}")
        
        # íŒŒì¼ í¬ê¸° ê²€ì¦ (ì‹¤ì œ í¬ê¸°ëŠ” ì½ì–´ì•¼ í™•ì¸ ê°€ëŠ¥)
        if file.size and file.size > self.MAX_FILE_SIZE:
            raise ValueError(f"íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. ìµœëŒ€ {self.MAX_FILE_SIZE / (1024*1024):.1f}MB")
```

#### 6.3.2 í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ì—…ë¡œë“œ
```tsx
// components/common/FileUpload.tsx
interface FileUploadProps {
  onUpload: (files: FileList) => void;
  accept?: string;
  multiple?: boolean;
  maxSize?: number; // bytes
}

export function FileUpload({ 
  onUpload, 
  accept = "image/*", 
  multiple = false, 
  maxSize = 10 * 1024 * 1024 // 10MB
}: FileUploadProps) {
  const [dragActive, setDragActive] = useState(false);
  const inputRef = useRef<HTMLInputElement>(null);

  const handleDrag = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    if (e.type === "dragenter" || e.type === "dragover") {
      setDragActive(true);
    } else if (e.type === "dragleave") {
      setDragActive(false);
    }
  };

  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    setDragActive(false);
    
    const files = e.dataTransfer.files;
    if (files && files.length > 0) {
      handleFiles(files);
    }
  };

  const handleFiles = (files: FileList) => {
    // íŒŒì¼ í¬ê¸° ê²€ì¦
    const validFiles = Array.from(files).filter(file => {
      if (file.size > maxSize) {
        toast.error(`íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤: ${file.name}`);
        return false;
      }
      return true;
    });

    if (validFiles.length > 0) {
      const fileList = new DataTransfer();
      validFiles.forEach(file => fileList.items.add(file));
      onUpload(fileList.files);
    }
  };

  return (
    <div
      className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${
        dragActive 
          ? 'border-blue-500 bg-blue-50' 
          : 'border-gray-300 hover:border-gray-400'
      }`}
      onDragEnter={handleDrag}
      onDragLeave={handleDrag}
      onDragOver={handleDrag}
      onDrop={handleDrop}
      onClick={() => inputRef.current?.click()}
    >
      <input
        ref={inputRef}
        type="file"
        accept={accept}
        multiple={multiple}
        onChange={(e) => e.target.files && handleFiles(e.target.files)}
        className="hidden"
      />
      
      <Upload className="mx-auto h-12 w-12 text-gray-400" />
      <p className="mt-2 text-sm text-gray-600">
        íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œí•˜ì„¸ìš”
      </p>
      <p className="text-xs text-gray-500">
        ìµœëŒ€ í¬ê¸°: {(maxSize / (1024 * 1024)).toFixed(1)}MB
      </p>
    </div>
  );
}

// hooks/useFileUpload.ts
export function useFileUpload() {
  const [uploading, setUploading] = useState(false);
  const [progress, setProgress] = useState(0);
  const api = useApi();

  const uploadFiles = async (files: FileList): Promise<FileRecord[]> => {
    setUploading(true);
    setProgress(0);
    
    try {
      const uploadPromises = Array.from(files).map(async (file, index) => {
        const formData = new FormData();
        formData.append('file', file);
        
        const response = await api.uploadFile(formData, (progressEvent) => {
          // ê°œë³„ íŒŒì¼ ì—…ë¡œë“œ ì§„í–‰ë¥  ê³„ì‚°
          const fileProgress = (progressEvent.loaded / progressEvent.total) * 100;
          const totalProgress = ((index + fileProgress / 100) / files.length) * 100;
          setProgress(totalProgress);
        });
        
        return response;
      });
      
      const results = await Promise.all(uploadPromises);
      setProgress(100);
      return results;
    } catch (error) {
      console.error('íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨:', error);
      throw error;
    } finally {
      setUploading(false);
      setProgress(0);
    }
  };

  return {
    uploadFiles,
    uploading,
    progress
  };
}
```

---

## 7. ê°œë°œ í™˜ê²½ê³¼ ë„êµ¬

### 7.1 ê°œë°œ í™˜ê²½ ì„¤ì •

#### 7.1.1 ë°±ì—”ë“œ ê°œë°œ í™˜ê²½
```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
# ë˜ëŠ” uv ì‚¬ìš© (ë” ë¹ ë¦„)
uv install

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
# MongoDB ì—°ê²° ë¬¸ìì—´ ì„¤ì •
# Redis ì—°ê²° ì •ë³´ ì„¤ì •

# 5. ì„œë²„ ì‹¤í–‰
uvicorn main:app --reload --port 8000
```

#### 7.1.2 í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ í™˜ê²½
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
cd frontend
npm install

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# 4. íƒ€ì… ì²´í¬
npm run typecheck

# 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test
```

### 7.2 ì£¼ìš” ê°œë°œ ë„êµ¬

#### 7.2.1 ë°±ì—”ë“œ ë„êµ¬
```toml
# pyproject.toml
[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

[tool.black]
line-length = 88
target-version = ['py311']

[tool.isort]
profile = "black"
multi_line_output = 3

[tool.mypy]
python_version = "3.11"
strict = true
```

#### 7.2.2 í”„ë¡ íŠ¸ì—”ë“œ ë„êµ¬
```json
{
  "scripts": {
    "dev": "remix dev",
    "build": "remix build",
    "start": "remix-serve build",
    "typecheck": "tsc --noEmit",
    "lint": "eslint --ignore-path .gitignore --cache --cache-location ./node_modules/.cache/eslint .",
    "test": "vitest",
    "test:coverage": "vitest run --coverage"
  }
}
```

### 7.3 í…ŒìŠ¤íŠ¸ ì „ëµ

#### 7.3.1 ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
```python
# tests/test_posts_service.py
import pytest
from unittest.mock import AsyncMock, MagicMock
from nadle_backend.services.posts_service import PostsService
from nadle_backend.models.core import Post, PostCreate

class TestPostsService:
    @pytest.fixture
    def mock_post_repository(self):
        return AsyncMock()
    
    @pytest.fixture
    def posts_service(self, mock_post_repository):
        return PostsService(mock_post_repository)
    
    async def test_create_post_success(self, posts_service, mock_post_repository):
        # Given
        post_data = PostCreate(
            title="í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€",
            content="í…ŒìŠ¤íŠ¸ ë‚´ìš©",
            service="residential_community",
            metadata={"category": "ê³µì§€ì‚¬í•­"}
        )
        author_id = "user123"
        
        mock_post_repository.get_by_slug.return_value = None
        mock_post_repository.create.return_value = Post(
            id="post123",
            title=post_data.title,
            content=post_data.content,
            slug="test-post",
            author_id=author_id
        )
        
        # When
        result = await posts_service.create_post(post_data, author_id)
        
        # Then
        assert result.title == post_data.title
        assert result.author_id == author_id
        mock_post_repository.create.assert_called_once()
    
    async def test_create_post_duplicate_slug(self, posts_service, mock_post_repository):
        # Given
        post_data = PostCreate(title="ì¤‘ë³µ ì œëª©", content="ë‚´ìš©")
        author_id = "user123"
        
        # ì¤‘ë³µ ìŠ¬ëŸ¬ê·¸ ì¡´ì¬
        mock_post_repository.get_by_slug.return_value = Post(id="existing")
        
        # When
        result = await posts_service.create_post(post_data, author_id)
        
        # Then
        # ìŠ¬ëŸ¬ê·¸ì— íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ì¶”ê°€ë˜ì–´ì•¼ í•¨
        assert "-" in result.slug
        assert result.slug != "duplicate-title"
```

#### 7.3.2 í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
```tsx
// tests/components/PostCard.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { vi } from 'vitest';
import { PostCard } from '../../app/components/post/PostCard';
import { mockPost } from '../mocks/post';

const mockNavigate = vi.fn();
vi.mock('@remix-run/react', () => ({
  useNavigate: () => mockNavigate
}));

describe('PostCard', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  test('ê²Œì‹œê¸€ ì •ë³´ë¥¼ ì˜¬ë°”ë¥´ê²Œ ë Œë”ë§í•œë‹¤', () => {
    render(<PostCard post={mockPost} />);
    
    expect(screen.getByText(mockPost.title)).toBeInTheDocument();
    expect(screen.getByText(mockPost.content)).toBeInTheDocument();
    expect(screen.getByText(mockPost.metadata.category)).toBeInTheDocument();
  });

  test('ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤', () => {
    render(<PostCard post={mockPost} />);
    
    fireEvent.click(screen.getByRole('article'));
    
    expect(mockNavigate).toHaveBeenCalledWith(`/board/${mockPost.slug}`);
  });

  test('ì¢‹ì•„ìš” ë²„íŠ¼ í´ë¦­ ì‹œ ì½œë°±ì´ í˜¸ì¶œëœë‹¤', () => {
    const mockOnLike = vi.fn();
    render(<PostCard post={mockPost} onLike={mockOnLike} />);
    
    fireEvent.click(screen.getByRole('button', { name: /ì¢‹ì•„ìš”/ }));
    
    expect(mockOnLike).toHaveBeenCalledWith(mockPost.id);
  });
});
```

### 7.4 ë°°í¬ ì„¤ì •

#### 7.4.1 ë°±ì—”ë“œ ë°°í¬ (Render)
```yaml
# render.yaml
services:
  - type: web
    name: xai-community-backend
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: DATABASE_URL
        fromDatabase:
          name: xai-community-db
          property: connectionString
```

#### 7.4.2 í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ (Vercel)
```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "build",
  "framework": "remix",
  "env": {
    "VITE_API_URL": "https://xai-community-backend.onrender.com"
  }
}
```

---

## 8. ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ

### 8.1 ì™„ì „í•œ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì‹œ: ê²Œì‹œê¸€ ì¢‹ì•„ìš” ê¸°ëŠ¥

#### 8.1.1 ë°±ì—”ë“œ êµ¬í˜„
```python
# models/core.py
class UserReaction(BaseModel):
    id: str = Field(default_factory=lambda: str(uuid.uuid4()))
    user_id: str
    target_type: str  # "post" or "comment"
    target_id: str
    liked: bool = False
    disliked: bool = False
    bookmarked: bool = False
    created_at: datetime = Field(default_factory=datetime.now)
    updated_at: datetime = Field(default_factory=datetime.now)

# repositories/user_reaction_repository.py
class UserReactionRepository:
    def __init__(self, db: AsyncIOMotorDatabase):
        self.collection = db.user_reactions

    async def get_reaction(self, user_id: str, target_type: str, target_id: str) -> Optional[UserReaction]:
        doc = await self.collection.find_one({
            "user_id": user_id,
            "target_type": target_type,
            "target_id": target_id
        })
        return UserReaction(**doc) if doc else None

    async def upsert_reaction(self, reaction: UserReaction) -> UserReaction:
        doc = reaction.dict()
        doc["updated_at"] = datetime.now()
        
        await self.collection.update_one(
            {
                "user_id": reaction.user_id,
                "target_type": reaction.target_type,
                "target_id": reaction.target_id
            },
            {"$set": doc},
            upsert=True
        )
        return reaction

# services/user_reaction_service.py
class UserReactionService:
    def __init__(
        self, 
        user_reaction_repository: UserReactionRepository,
        post_repository: PostRepository
    ):
        self.user_reaction_repository = user_reaction_repository
        self.post_repository = post_repository

    async def toggle_like(self, user_id: str, target_type: str, target_id: str) -> UserReaction:
        # ê¸°ì¡´ ë°˜ì‘ ì¡°íšŒ
        reaction = await self.user_reaction_repository.get_reaction(
            user_id, target_type, target_id
        )
        
        if not reaction:
            # ìƒˆë¡œìš´ ë°˜ì‘ ìƒì„±
            reaction = UserReaction(
                user_id=user_id,
                target_type=target_type,
                target_id=target_id,
                liked=True
            )
        else:
            # ê¸°ì¡´ ë°˜ì‘ í† ê¸€
            reaction.liked = not reaction.liked
            reaction.disliked = False  # ì¢‹ì•„ìš” ì‹œ ì‹«ì–´ìš” ì·¨ì†Œ
        
        # ë°˜ì‘ ì €ì¥
        updated_reaction = await self.user_reaction_repository.upsert_reaction(reaction)
        
        # ê²Œì‹œê¸€ í†µê³„ ì—…ë°ì´íŠ¸
        if target_type == "post":
            await self._update_post_stats(target_id)
        
        return updated_reaction

    async def _update_post_stats(self, post_id: str):
        # í•´ë‹¹ ê²Œì‹œê¸€ì˜ ëª¨ë“  ì¢‹ì•„ìš” ìˆ˜ ê³„ì‚°
        like_count = await self.user_reaction_repository.count_likes(
            "post", post_id
        )
        
        # ê²Œì‹œê¸€ í†µê³„ ì—…ë°ì´íŠ¸
        await self.post_repository.update_like_count(post_id, like_count)

# routers/posts.py
@router.post("/{post_slug}/like")
async def toggle_post_like(
    post_slug: str,
    current_user: User = Depends(get_current_user),
    user_reaction_service: UserReactionService = Depends(get_user_reaction_service)
):
    try:
        # ê²Œì‹œê¸€ ì¡´ì¬ í™•ì¸
        post = await post_repository.get_by_slug(post_slug)
        if not post:
            raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        
        # ì¢‹ì•„ìš” í† ê¸€
        reaction = await user_reaction_service.toggle_like(
            current_user.id, "post", post.id
        )
        
        return {
            "success": True,
            "liked": reaction.liked,
            "message": "ì¢‹ì•„ìš”ê°€ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤." if reaction.liked else "ì¢‹ì•„ìš”ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤."
        }
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

#### 8.1.2 í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
```tsx
// hooks/useReactions.ts
export function useReactions(postId: string) {
  const [liked, setLiked] = useState(false);
  const [bookmarked, setBookmarked] = useState(false);
  const [loading, setLoading] = useState(false);
  const api = useApi();

  const toggleLike = async () => {
    setLoading(true);
    try {
      const response = await api.togglePostLike(postId);
      setLiked(response.liked);
      
      toast.success(response.message);
    } catch (error) {
      toast.error('ì¢‹ì•„ìš” ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  };

  const toggleBookmark = async () => {
    setLoading(true);
    try {
      const response = await api.togglePostBookmark(postId);
      setBookmarked(response.bookmarked);
      
      toast.success(response.message);
    } catch (error) {
      toast.error('ë¶ë§ˆí¬ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  };

  return {
    liked,
    bookmarked,
    loading,
    toggleLike,
    toggleBookmark
  };
}

// components/ui/LikeButton.tsx
interface LikeButtonProps {
  postId: string;
  likeCount: number;
  className?: string;
}

export function LikeButton({ postId, likeCount, className = '' }: LikeButtonProps) {
  const { liked, loading, toggleLike } = useReactions(postId);

  return (
    <button
      onClick={(e) => {
        e.stopPropagation(); // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ë°©ì§€
        toggleLike();
      }}
      disabled={loading}
      className={`flex items-center space-x-1 px-3 py-1 rounded-full text-sm transition-colors ${
        liked 
          ? 'bg-red-100 text-red-600' 
          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
      } ${className}`}
    >
      <Heart 
        className={`w-4 h-4 ${liked ? 'fill-current' : ''}`}
      />
      <span>{likeCount}</span>
      {loading && <LoadingSpinner className="w-3 h-3" />}
    </button>
  );
}

// lib/api.ts - API í´ë¼ì´ì–¸íŠ¸ ë©”ì„œë“œ
class ApiClient {
  // ... ê¸°ì¡´ ì½”ë“œ ...

  async togglePostLike(postId: string) {
    return this.request<{ success: boolean; liked: boolean; message: string }>(
      `/api/posts/${postId}/like`,
      { method: 'POST' }
    );
  }

  async togglePostBookmark(postId: string) {
    return this.request<{ success: boolean; bookmarked: boolean; message: string }>(
      `/api/posts/${postId}/bookmark`,
      { method: 'POST' }
    );
  }

  async getUserReactions(userId: string) {
    return this.request<{ reactions: UserReaction[] }>(
      `/api/users/${userId}/reactions`
    );
  }
}
```

### 8.2 ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ ê´€ë¦¬

#### 8.2.1 ì—ëŸ¬ ë°”ìš´ë”ë¦¬
```tsx
// components/common/ErrorBoundary.tsx
interface ErrorBoundaryProps {
  children: React.ReactNode;
  fallback?: React.ComponentType<{ error: Error; reset: () => void }>;
}

interface ErrorBoundaryState {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {
  constructor(props: ErrorBoundaryProps) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): ErrorBoundaryState {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('ErrorBoundary caught an error:', error, errorInfo);
    
    // ì—ëŸ¬ ë¡œê¹… ì„œë¹„ìŠ¤ì— ì „ì†¡
    // logErrorToService(error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      const FallbackComponent = this.props.fallback || DefaultErrorFallback;
      return (
        <FallbackComponent 
          error={this.state.error!} 
          reset={() => this.setState({ hasError: false, error: null })}
        />
      );
    }

    return this.props.children;
  }
}

function DefaultErrorFallback({ error, reset }: { error: Error; reset: () => void }) {
  return (
    <div className="flex flex-col items-center justify-center min-h-[400px] p-8">
      <div className="text-center">
        <h2 className="text-2xl font-bold text-gray-900 mb-4">
          ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤
        </h2>
        <p className="text-gray-600 mb-6">
          {error.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'}
        </p>
        <button
          onClick={reset}
          className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        >
          ë‹¤ì‹œ ì‹œë„
        </button>
      </div>
    </div>
  );
}
```

#### 8.2.2 ë¡œë”© ìƒíƒœ ê´€ë¦¬
```tsx
// hooks/useAsync.ts
export function useAsync<T>(
  asyncFunction: () => Promise<T>,
  dependencies: React.DependencyList = []
) {
  const [state, setState] = useState<{
    data: T | null;
    loading: boolean;
    error: Error | null;
  }>({
    data: null,
    loading: false,
    error: null
  });

  const execute = useCallback(async () => {
    setState({ data: null, loading: true, error: null });
    
    try {
      const result = await asyncFunction();
      setState({ data: result, loading: false, error: null });
    } catch (error) {
      setState({ 
        data: null, 
        loading: false, 
        error: error instanceof Error ? error : new Error('Unknown error') 
      });
    }
  }, dependencies);

  useEffect(() => {
    execute();
  }, [execute]);

  return { ...state, refetch: execute };
}

// ì‚¬ìš© ì˜ˆì‹œ
function PostList() {
  const { data: posts, loading, error, refetch } = useAsync(
    () => api.getPosts({ service: 'residential_community' }),
    []
  );

  if (loading) return <PostListSkeleton />;
  if (error) return <ErrorMessage error={error} retry={refetch} />;
  if (!posts) return <EmptyState />;

  return (
    <div className="space-y-4">
      {posts.map(post => (
        <PostCard key={post.id} post={post} />
      ))}
    </div>
  );
}
```

---

## 9. ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­

### 9.1 ì„±ëŠ¥ ìµœì í™”

#### 9.1.1 ë°±ì—”ë“œ ìµœì í™”
```python
# 1. ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ìµœì í™”
class PostRepository:
    async def create_indexes(self):
        # ë³µí•© ì¸ë±ìŠ¤ ìƒì„±
        await self.collection.create_index([
            ("service", 1),
            ("metadata.category", 1),
            ("created_at", -1)
        ])
        
        # í…ìŠ¤íŠ¸ ê²€ìƒ‰ ì¸ë±ìŠ¤
        await self.collection.create_index([
            ("title", "text"),
            ("content", "text")
        ])

# 2. ìºì‹± ì „ëµ
class PostsService:
    async def get_posts(self, params: GetPostsParams) -> PostsResponse:
        # ìºì‹œ í‚¤ ìƒì„±
        cache_key = f"posts:{params.service}:{params.category}:{params.page}"
        
        # ìºì‹œì—ì„œ ì¡°íšŒ
        cached_result = await self.cache_service.get(cache_key)
        if cached_result:
            return cached_result
        
        # ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
        result = await self.post_repository.find_many(...)
        
        # ìºì‹œì— ì €ì¥ (5ë¶„)
        await self.cache_service.set(cache_key, result, ttl=300)
        
        return result

# 3. í˜ì´ì§€ë„¤ì´ì…˜
class PostRepository:
    async def find_with_pagination(
        self, 
        filter_conditions: dict, 
        page: int, 
        limit: int
    ) -> tuple[list[Post], int]:
        # íš¨ìœ¨ì ì¸ í˜ì´ì§€ë„¤ì´ì…˜
        skip = (page - 1) * limit
        
        # ë³‘ë ¬ë¡œ ë°ì´í„°ì™€ ì¹´ìš´íŠ¸ ì¡°íšŒ
        posts_task = self.collection.find(filter_conditions).skip(skip).limit(limit).to_list(limit)
        count_task = self.collection.count_documents(filter_conditions)
        
        posts, total = await asyncio.gather(posts_task, count_task)
        
        return posts, total
```

#### 9.1.2 í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”
```tsx
// 1. ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const PostCard = memo(({ post, onLike }: PostCardProps) => {
  // ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ìµœì í™”
  return (
    <Card>
      {/* ì»´í¬ë„ŒíŠ¸ ë‚´ìš© */}
    </Card>
  );
});

// 2. ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„
function useInfiniteScroll<T>(
  fetchData: (page: number) => Promise<{ data: T[]; hasMore: boolean }>
) {
  const [data, setData] = useState<T[]>([]);
  const [loading, setLoading] = useState(false);
  const [hasMore, setHasMore] = useState(true);
  const [page, setPage] = useState(1);

  const loadMore = useCallback(async () => {
    if (loading || !hasMore) return;
    
    setLoading(true);
    try {
      const result = await fetchData(page);
      setData(prev => [...prev, ...result.data]);
      setHasMore(result.hasMore);
      setPage(prev => prev + 1);
    } catch (error) {
      console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
    } finally {
      setLoading(false);
    }
  }, [fetchData, loading, hasMore, page]);

  return { data, loading, hasMore, loadMore };
}

// 3. ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©
function LazyImage({ src, alt, ...props }: ImageProps) {
  const [loaded, setLoaded] = useState(false);
  const [error, setError] = useState(false);
  const imgRef = useRef<HTMLImageElement>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        if (entries[0].isIntersecting && imgRef.current) {
          imgRef.current.src = src;
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (imgRef.current) {
      observer.observe(imgRef.current);
    }

    return () => observer.disconnect();
  }, [src]);

  return (
    <div className="relative">
      <img
        ref={imgRef}
        alt={alt}
        onLoad={() => setLoaded(true)}
        onError={() => setError(true)}
        className={`transition-opacity duration-300 ${
          loaded ? 'opacity-100' : 'opacity-0'
        }`}
        {...props}
      />
      {!loaded && !error && (
        <div className="absolute inset-0 bg-gray-200 animate-pulse" />
      )}
    </div>
  );
}
```

### 9.2 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

#### 9.2.1 ë°±ì—”ë“œ ë³´ì•ˆ
```python
# 1. ì…ë ¥ ê²€ì¦ ë° ì‚´ê· 
from pydantic import BaseModel, validator
import bleach

class PostCreate(BaseModel):
    title: str
    content: str
    
    @validator('title')
    def validate_title(cls, v):
        if len(v) < 1 or len(v) > 200:
            raise ValueError('ì œëª©ì€ 1-200ì ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.')
        return bleach.clean(v)
    
    @validator('content')
    def validate_content(cls, v):
        if len(v) < 1 or len(v) > 10000:
            raise ValueError('ë‚´ìš©ì€ 1-10000ì ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.')
        # HTML íƒœê·¸ ì‚´ê· 
        allowed_tags = ['p', 'br', 'strong', 'em', 'ul', 'ol', 'li']
        return bleach.clean(v, tags=allowed_tags)

# 2. ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
from passlib.context import CryptContext

pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")

class AuthService:
    def hash_password(self, password: str) -> str:
        return pwd_context.hash(password)
    
    def verify_password(self, plain_password: str, hashed_password: str) -> bool:
        return pwd_context.verify(plain_password, hashed_password)

# 3. íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ
class FileStorageService:
    ALLOWED_EXTENSIONS = {'.jpg', '.jpeg', '.png', '.gif', '.pdf'}
    MAX_FILE_SIZE = 10 * 1024 * 1024  # 10MB
    
    def _validate_file(self, file: UploadFile) -> None:
        # íŒŒì¼ í™•ì¥ì ê²€ì¦
        file_extension = Path(file.filename).suffix.lower()
        if file_extension not in self.ALLOWED_EXTENSIONS:
            raise ValueError(f"í—ˆìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹: {file_extension}")
        
        # íŒŒì¼ í¬ê¸° ê²€ì¦
        if file.size > self.MAX_FILE_SIZE:
            raise ValueError("íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤.")
        
        # íŒŒì¼ ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
        file_content = file.file.read(1024)
        file.file.seek(0)
        
        if not self._is_valid_file_signature(file_content, file_extension):
            raise ValueError("ì˜ëª»ëœ íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.")
```

#### 9.2.2 í”„ë¡ íŠ¸ì—”ë“œ ë³´ì•ˆ
```tsx
// 1. XSS ë°©ì§€
function sanitizeHtml(content: string): string {
  return DOMPurify.sanitize(content, {
    ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'ul', 'ol', 'li'],
    ALLOWED_ATTR: []
  });
}

// 2. í† í° ë³´ì•ˆ ì €ì¥
class TokenStorage {
  private static readonly TOKEN_KEY = 'auth_token';
  
  static setToken(token: string) {
    // httpOnly ì¿ í‚¤ì— ì €ì¥ (ê¶Œì¥)
    document.cookie = `${this.TOKEN_KEY}=${token}; Secure; HttpOnly; SameSite=Strict`;
  }
  
  static getToken(): string | null {
    // ì¿ í‚¤ì—ì„œ í† í° ì½ê¸°
    const cookies = document.cookie.split(';');
    const tokenCookie = cookies.find(cookie => 
      cookie.trim().startsWith(`${this.TOKEN_KEY}=`)
    );
    
    return tokenCookie ? tokenCookie.split('=')[1] : null;
  }
  
  static removeToken() {
    document.cookie = `${this.TOKEN_KEY}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
  }
}

// 3. ì…ë ¥ ê²€ì¦
function validateInput(input: string, type: 'email' | 'password' | 'text'): boolean {
  const patterns = {
    email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
    password: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,
    text: /^[a-zA-Z0-9\s\uAC00-\uD7A3]{1,200}$/
  };
  
  return patterns[type].test(input);
}
```

### 9.3 ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

#### 9.3.1 ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì— ìˆëŠ”ê°€?
- [ ] ì—ëŸ¬ ì²˜ë¦¬ê°€ ì ì ˆíˆ ë˜ì–´ ìˆëŠ”ê°€?
- [ ] íƒ€ì… ì•ˆì „ì„±ì´ ë³´ì¥ë˜ëŠ”ê°€?
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‘ì„±ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ë³´ì•ˆ ì·¨ì•½ì ì´ ì—†ëŠ”ê°€?
- [ ] ì„±ëŠ¥ ìµœì í™”ê°€ ê³ ë ¤ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ì½”ë“œê°€ í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜ì„ ë”°ë¥´ëŠ”ê°€?

#### 9.3.2 ì§€ì†ì  í†µí•© (CI/CD)
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  backend-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: 3.11
      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt
      - name: Run tests
        run: |
          cd backend
          pytest --cov=nadle_backend tests/
      - name: Type check
        run: |
          cd backend
          mypy nadle_backend/

  frontend-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install dependencies
        run: |
          cd frontend
          npm install
      - name: Run tests
        run: |
          cd frontend
          npm run test
      - name: Type check
        run: |
          cd frontend
          npm run typecheck
      - name: Build
        run: |
          cd frontend
          npm run build
```

---

## ê²°ë¡ 

ì´ ë¬¸ì„œëŠ” XAI Community í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ì™€ ê°œë°œ íŒ¨í„´ì„ ìƒì„¸íˆ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ì£¼ìš” ë‚´ìš©ì„ ìš”ì•½í•˜ë©´:

### ğŸ—ï¸ ì•„í‚¤í…ì²˜ íŠ¹ì§•
- **ë°±ì—”ë“œ**: Domain-Driven Design ê¸°ë°˜ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜
- **í”„ë¡ íŠ¸ì—”ë“œ**: ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ Remix React ì•„í‚¤í…ì²˜
- **ë°ì´í„°ë² ì´ìŠ¤**: MongoDB + Redis ì¡°í•©ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
- **í†µì‹ **: RESTful API ê¸°ë°˜ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹ 

### ğŸ”„ ê°œë°œ íë¦„
1. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë¶„ì„
2. ë°±ì—”ë“œ API ì„¤ê³„ ë° êµ¬í˜„
3. í”„ë¡ íŠ¸ì—”ë“œ UI/UX êµ¬í˜„
4. í†µí•© í…ŒìŠ¤íŠ¸ ë° ìµœì í™”
5. ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### ğŸ› ï¸ ê°œë°œ ë„êµ¬
- **ë°±ì—”ë“œ**: FastAPI, Pydantic, Beanie ODM, pytest
- **í”„ë¡ íŠ¸ì—”ë“œ**: Remix, TypeScript, Tailwind CSS, Vitest
- **ë°ì´í„°ë² ì´ìŠ¤**: MongoDB Atlas, Redis Cloud
- **ë°°í¬**: Render (ë°±ì—”ë“œ), Vercel (í”„ë¡ íŠ¸ì—”ë“œ)

### ğŸ“š ì§€ì† í•™ìŠµ ê°€ì´ë“œ
ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë‹¤ìŒ ê¸°ìˆ ë“¤ì„ ê¹Šì´ ìˆê²Œ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- í˜„ëŒ€ì ì¸ ì›¹ ê°œë°œ íŒ¨í„´
- í´ë¦° ì•„í‚¤í…ì²˜ ì„¤ê³„
- í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ (TDD)
- ì„±ëŠ¥ ìµœì í™” ê¸°ë²•
- ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€

### ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„
1. ì‹¤ì œ ì½”ë“œë¥¼ ì§ì ‘ ì½ê³  ë¶„ì„í•˜ê¸°
2. ì‘ì€ ê¸°ëŠ¥ë¶€í„° êµ¬í˜„í•´ë³´ê¸°
3. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê¸°
4. ì½”ë“œ ë¦¬ë·° ì°¸ì—¬í•˜ê¸°
5. ì„±ëŠ¥ ìµœì í™” ì‹¤í—˜í•˜ê¸°

ì´ ê°€ì´ë“œê°€ XAI Community í”„ë¡œì íŠ¸ ì´í•´ì— ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤! ğŸš€

---

*ì‘ì„±ì: Claude Code Assistant*  
*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-07-07*