# íšŒê·€ í…ŒìŠ¤íŠ¸ êµ¬í˜„ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” Xai Community ë°±ì—”ë“œì˜ íšŒê·€ í…ŒìŠ¤íŠ¸ ì²´ê³„ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ìƒì„¸í•œ êµ¬í˜„ ê°€ì´ë“œì…ë‹ˆë‹¤. í˜„ì¬ 42% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ 85% ì´ìƒìœ¼ë¡œ í–¥ìƒì‹œí‚¤ê³ , ì•ˆì •ì ì¸ ë¦´ë¦¬ìŠ¤ë¥¼ ìœ„í•œ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì²´ê³„ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.

**ëŒ€ìƒ ë…ì**: ë°±ì—”ë“œ ê°œë°œì, QA ì—”ì§€ë‹ˆì–´, DevOps ì—”ì§€ë‹ˆì–´  
**ì˜ˆìƒ êµ¬í˜„ ì‹œê°„**: 4-6ì£¼  
**í•„ìš” ê¸°ìˆ **: Python, pytest, FastAPI, MongoDB, Docker

## ğŸ¯ êµ¬í˜„ ëª©í‘œ

### ìµœì¢… ëª©í‘œ
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: 85% ì´ìƒ
- **íšŒê·€ í…ŒìŠ¤íŠ¸ ìë™í™”**: 100%
- **CI/CD í†µí•©**: GitHub Actions
- **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„**: 10ë¶„ ì´ë‚´

### ì£¼ìš” ì„±ê³¼ ì§€í‘œ (KPI)
- API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 36ê°œ ì¤‘ 30ê°œ ì´ìƒ
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨: 95% ì´ìƒ
- í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨: 90% ì´ìƒ
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì•ˆì •ì„±: 99% ì´ìƒ

## ğŸ“Š êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ ìˆ˜ì • ë° ì•ˆì •í™” (1ì£¼)
**ëª©í‘œ**: í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìˆ˜ì • ë° ê¸°ë³¸ í™˜ê²½ êµ¬ì¶•

#### 1.1 Import ì˜¤ë¥˜ ìˆ˜ì •
```python
# íŒŒì¼: tests/unit/test_models_validation.py
# ìˆ˜ì • ì „
from src.models import Reaction, ReactionType  # âŒ

# ìˆ˜ì • í›„  
from src.models import UserReaction, TargetType  # âœ…
```

#### 1.2 ì˜ì¡´ì„± ì¶”ê°€
```bash
# pyproject.tomlì— ì¶”ê°€
[project.optional-dependencies]
test = [
    "pillow>=10.0.0",
    "pytest-mock>=3.11.1",
    "httpx>=0.24.0",
]
```

#### 1.3 í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
```python
# conftest.py ê°œì„ 
import pytest
import asyncio
from motor.motor_asyncio import AsyncIOMotorClient
from src.config import settings

@pytest.fixture(scope="session")
def event_loop():
    """ì„¸ì…˜ ìŠ¤ì½”í”„ ì´ë²¤íŠ¸ ë£¨í”„"""
    loop = asyncio.new_event_loop()
    yield loop
    loop.close()

@pytest.fixture(scope="session")
async def test_db():
    """í…ŒìŠ¤íŠ¸ ì „ìš© ë°ì´í„°ë² ì´ìŠ¤"""
    client = AsyncIOMotorClient(settings.mongodb_url)
    db = client[f"{settings.database_name}_test"]
    yield db
    await client.drop_database(f"{settings.database_name}_test")
    client.close()
```

### Phase 2: í•µì‹¬ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ êµ¬í˜„ (2ì£¼)
**ëª©í‘œ**: ì¸ì¦, ê¶Œí•œ, ì½˜í…ì¸  ë³´ì•ˆ ê´€ë ¨ íšŒê·€ í…ŒìŠ¤íŠ¸ ì™„ì„±

#### 2.1 ì¸ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ í™•ì¥

##### Refresh Token í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_auth_refresh.py
class TestRefreshToken:
    async def test_refresh_token_success(self, client, test_user):
        """ì •ìƒì ì¸ í† í° ê°±ì‹  í…ŒìŠ¤íŠ¸"""
        # 1. ë¡œê·¸ì¸í•˜ì—¬ refresh token íšë“
        login_data = {"username": test_user.email, "password": "testpass123"}
        login_response = await client.post("/login", data=login_data)
        refresh_token = login_response.json()["refresh_token"]
        
        # 2. Refresh tokenìœ¼ë¡œ ìƒˆ í† í° ìš”ì²­
        refresh_data = {"refresh_token": refresh_token}
        response = await client.post("/refresh", json=refresh_data)
        
        assert response.status_code == 200
        assert "access_token" in response.json()
        assert "refresh_token" in response.json()
    
    async def test_refresh_token_expired(self, client):
        """ë§Œë£Œëœ refresh token í…ŒìŠ¤íŠ¸"""
        expired_token = "expired.refresh.token"
        refresh_data = {"refresh_token": expired_token}
        response = await client.post("/refresh", json=refresh_data)
        
        assert response.status_code == 401
        assert response.json()["detail"] == "Invalid or expired refresh token"
    
    async def test_refresh_token_reuse_prevention(self, client, test_user):
        """Refresh token ì¬ì‚¬ìš© ë°©ì§€ í…ŒìŠ¤íŠ¸"""
        # ... êµ¬í˜„
```

##### ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_password_change.py
class TestPasswordChange:
    async def test_password_change_success(self, authenticated_client, test_user):
        """ì •ìƒì ì¸ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"""
        change_data = {
            "current_password": "testpass123",
            "new_password": "newpass456",
            "confirm_password": "newpass456"
        }
        response = await authenticated_client.post("/change-password", json=change_data)
        
        assert response.status_code == 200
        
        # ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ í™•ì¸
        login_data = {"username": test_user.email, "password": "newpass456"}
        login_response = await authenticated_client.post("/login", data=login_data)
        assert login_response.status_code == 200
    
    async def test_password_change_wrong_current(self, authenticated_client):
        """ì˜ëª»ëœ í˜„ì¬ ë¹„ë°€ë²ˆí˜¸"""
        change_data = {
            "current_password": "wrongpass",
            "new_password": "newpass456",
            "confirm_password": "newpass456"
        }
        response = await authenticated_client.post("/change-password", json=change_data)
        
        assert response.status_code == 400
        assert "í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤" in response.json()["detail"]
```

#### 2.2 ê´€ë¦¬ì ê¶Œí•œ í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_admin_functions.py
class TestAdminFunctions:
    async def test_admin_suspend_user(self, admin_client, test_user):
        """ì‚¬ìš©ì ê³„ì • ì •ì§€"""
        response = await admin_client.post(f"/admin/users/{test_user.id}/suspend")
        
        assert response.status_code == 200
        
        # ì •ì§€ëœ ì‚¬ìš©ì ë¡œê·¸ì¸ ì‹œë„
        login_data = {"username": test_user.email, "password": "testpass123"}
        login_response = await admin_client.post("/login", data=login_data)
        assert login_response.status_code == 403
    
    async def test_non_admin_access_denied(self, authenticated_client, test_user):
        """ì¼ë°˜ ì‚¬ìš©ìì˜ ê´€ë¦¬ì ê¸°ëŠ¥ ì ‘ê·¼ ê±°ë¶€"""
        response = await authenticated_client.get("/admin/users")
        assert response.status_code == 403
```

#### 2.3 ì½˜í…ì¸  ë³´ì•ˆ í…ŒìŠ¤íŠ¸
```python
# tests/security/test_content_security.py
class TestContentSecurity:
    async def test_xss_prevention_in_posts(self, authenticated_client):
        """ê²Œì‹œê¸€ XSS ê³µê²© ë°©ì§€"""
        malicious_content = '''
        <script>alert('XSS')</script>
        <img src="x" onerror="alert('XSS')">
        <svg onload="alert('XSS')"></svg>
        '''
        
        post_data = {
            "title": "Test Post",
            "content": malicious_content,
            "service_type": "general"
        }
        
        response = await authenticated_client.post("/api/posts", json=post_data)
        assert response.status_code == 201
        
        post_slug = response.json()["slug"]
        get_response = await authenticated_client.get(f"/api/posts/{post_slug}")
        
        # ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ê°€ ì œê±°ë˜ì—ˆëŠ”ì§€ í™•ì¸
        content = get_response.json()["content"]
        assert "<script>" not in content
        assert "onerror=" not in content
        assert "onload=" not in content
    
    async def test_markdown_injection_prevention(self, client):
        """ë§ˆí¬ë‹¤ìš´ ì¸ì ì…˜ ë°©ì§€"""
        malicious_markdown = '''
        [Click me](javascript:alert('XSS'))
        ![Image](javascript:alert('XSS'))
        <details><summary>Click</summary><script>alert('XSS')</script></details>
        '''
        
        preview_data = {"content": malicious_markdown}
        response = await client.post("/api/content/preview", json=preview_data)
        
        assert response.status_code == 200
        html_content = response.json()["html"]
        assert "javascript:" not in html_content
        assert "<script>" not in html_content
```

### Phase 3: ì‚¬ìš©ì ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ êµ¬í˜„ (2ì£¼)
**ëª©í‘œ**: ì‚¬ìš©ì ë°˜ì‘, íŒŒì¼ ê´€ë¦¬, í†µê³„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ì„±

#### 3.1 ì‚¬ìš©ì ë°˜ì‘ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_reactions.py
class TestReactions:
    async def test_post_like_unlike(self, authenticated_client, test_post):
        """ê²Œì‹œê¸€ ì¢‹ì•„ìš”/ì·¨ì†Œ"""
        # ì¢‹ì•„ìš”
        response = await authenticated_client.post(f"/api/posts/{test_post.slug}/like")
        assert response.status_code == 200
        assert response.json()["action"] == "liked"
        
        # í†µê³„ í™•ì¸
        stats_response = await authenticated_client.get(f"/api/posts/{test_post.slug}/stats")
        assert stats_response.json()["likes_count"] == 1
        
        # ì¢‹ì•„ìš” ì·¨ì†Œ
        response2 = await authenticated_client.post(f"/api/posts/{test_post.slug}/like")
        assert response2.status_code == 200
        assert response2.json()["action"] == "unliked"
    
    async def test_comment_reactions(self, authenticated_client, test_comment):
        """ëŒ“ê¸€ ë°˜ì‘ í…ŒìŠ¤íŠ¸"""
        # ëŒ“ê¸€ ì¢‹ì•„ìš”
        response = await authenticated_client.post(
            f"/api/posts/{test_comment.post_slug}/comments/{test_comment.id}/like"
        )
        assert response.status_code == 200
        
        # ëŒ“ê¸€ ì‹«ì–´ìš” (ì¢‹ì•„ìš”ì™€ ë°°íƒ€ì )
        response2 = await authenticated_client.post(
            f"/api/posts/{test_comment.post_slug}/comments/{test_comment.id}/dislike"
        )
        assert response2.status_code == 200
        assert response2.json()["likes"] == 0  # ì¢‹ì•„ìš”ê°€ ì·¨ì†Œë˜ì–´ì•¼ í•¨
        assert response2.json()["dislikes"] == 1
    
    async def test_reaction_limits(self, authenticated_client, test_post):
        """ë°˜ì‘ ì œí•œ í…ŒìŠ¤íŠ¸ (1ì¼ 100íšŒ ë“±)"""
        # 100íšŒ ì—°ì† ì¢‹ì•„ìš”/ì·¨ì†Œ ì‹œë„
        for i in range(101):
            response = await authenticated_client.post(f"/api/posts/{test_post.slug}/like")
            if i < 100:
                assert response.status_code == 200
            else:
                assert response.status_code == 429  # Too Many Requests
```

#### 3.2 íŒŒì¼ ê´€ë¦¬ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_file_management.py
class TestFileManagement:
    async def test_file_upload_and_retrieve(self, authenticated_client):
        """íŒŒì¼ ì—…ë¡œë“œ ë° ì¡°íšŒ"""
        # 1. íŒŒì¼ ì—…ë¡œë“œ
        test_image = create_test_image()  # í…ŒìŠ¤íŠ¸ìš© ì´ë¯¸ì§€ ìƒì„±
        files = {"file": ("test.jpg", test_image, "image/jpeg")}
        
        upload_response = await authenticated_client.post("/upload", files=files)
        assert upload_response.status_code == 200
        
        file_id = upload_response.json()["file_id"]
        
        # 2. íŒŒì¼ ì¡°íšŒ
        get_response = await authenticated_client.get(f"/{file_id}")
        assert get_response.status_code == 200
        assert get_response.headers["content-type"] == "image/jpeg"
        
        # 3. íŒŒì¼ ì •ë³´ ì¡°íšŒ
        info_response = await authenticated_client.get(f"/{file_id}/info")
        assert info_response.status_code == 200
        assert info_response.json()["file_type"] == "image/jpeg"
    
    async def test_file_access_permissions(self, client, authenticated_client, test_user, other_user):
        """íŒŒì¼ ì ‘ê·¼ ê¶Œí•œ í…ŒìŠ¤íŠ¸"""
        # ì‚¬ìš©ì Aê°€ íŒŒì¼ ì—…ë¡œë“œ
        test_image = create_test_image()
        files = {"file": ("private.jpg", test_image, "image/jpeg")}
        
        upload_response = await authenticated_client.post("/upload", files=files)
        file_id = upload_response.json()["file_id"]
        
        # ì—…ë¡œë“œí•œ ì‚¬ìš©ìëŠ” ì ‘ê·¼ ê°€ëŠ¥
        get_response = await authenticated_client.get(f"/{file_id}")
        assert get_response.status_code == 200
        
        # ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ì ‘ê·¼ ë¶ˆê°€ (private íŒŒì¼ì¸ ê²½ìš°)
        other_client = await get_authenticated_client(other_user)
        get_response2 = await other_client.get(f"/{file_id}")
        assert get_response2.status_code == 403
        
        # ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìëŠ” ì ‘ê·¼ ë¶ˆê°€
        get_response3 = await client.get(f"/{file_id}")
        assert get_response3.status_code == 401
    
    async def test_file_validation_security(self, authenticated_client):
        """íŒŒì¼ ë³´ì•ˆ ê²€ì¦"""
        # í—ˆìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹
        malicious_file = b"<?php echo 'hack'; ?>"
        files = {"file": ("hack.php", malicious_file, "application/x-php")}
        
        response = await authenticated_client.post("/upload", files=files)
        assert response.status_code == 400
        assert "ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹" in response.json()["detail"]
        
        # í¬ê¸° ì´ˆê³¼ íŒŒì¼
        large_file = b"x" * (6 * 1024 * 1024)  # 6MB
        files = {"file": ("large.jpg", large_file, "image/jpeg")}
        
        response = await authenticated_client.post("/upload", files=files)
        assert response.status_code == 413
        assert "íŒŒì¼ í¬ê¸° ì´ˆê³¼" in response.json()["detail"]
```

#### 3.3 í†µê³„ ë° ë¶„ì„ í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_statistics.py
class TestStatistics:
    async def test_post_statistics(self, client, authenticated_client, test_post):
        """ê²Œì‹œê¸€ í†µê³„"""
        # ì¡°íšŒìˆ˜ ì¦ê°€
        await client.get(f"/api/posts/{test_post.slug}")
        await client.get(f"/api/posts/{test_post.slug}")
        
        # ë°˜ì‘ ì¶”ê°€
        await authenticated_client.post(f"/api/posts/{test_post.slug}/like")
        
        # í†µê³„ í™•ì¸
        stats_response = await client.get(f"/api/posts/{test_post.slug}/stats")
        stats = stats_response.json()
        
        assert stats["views_count"] >= 2
        assert stats["likes_count"] == 1
        assert stats["comments_count"] == 0
        assert "created_at" in stats
        assert "updated_at" in stats
    
    async def test_user_activity_tracking(self, authenticated_client, test_user):
        """ì‚¬ìš©ì í™œë™ ì¶”ì """
        # ì—¬ëŸ¬ í™œë™ ìˆ˜í–‰
        await authenticated_client.post("/api/posts", json={
            "title": "Test Post",
            "content": "Content",
            "service_type": "general"
        })
        
        # ì‚¬ìš©ì í†µê³„ ì¡°íšŒ (ê´€ë¦¬ì ê¸°ëŠ¥)
        admin_client = await get_admin_client()
        user_stats = await admin_client.get(f"/admin/users/{test_user.id}/stats")
        
        assert user_stats.json()["posts_count"] >= 1
        assert user_stats.json()["last_activity"] is not None
```

### Phase 4: í†µí•© ë° E2E í…ŒìŠ¤íŠ¸ (1ì£¼)
**ëª©í‘œ**: ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ê²€ì¦

#### 4.1 ì‚¬ìš©ì ì—¬ì • í…ŒìŠ¤íŠ¸
```python
# tests/integration/test_user_journey.py
class TestUserJourney:
    async def test_complete_user_workflow(self, client):
        """ì™„ì „í•œ ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš°"""
        # 1. íšŒì›ê°€ì…
        register_data = {
            "email": "newuser@example.com",
            "password": "password123",
            "user_handle": "newuser"
        }
        register_response = await client.post("/register", json=register_data)
        assert register_response.status_code == 201
        
        # 2. ë¡œê·¸ì¸
        login_data = {"username": "newuser@example.com", "password": "password123"}
        login_response = await client.post("/login", data=login_data)
        assert login_response.status_code == 200
        
        token = login_response.json()["access_token"]
        headers = {"Authorization": f"Bearer {token}"}
        
        # 3. í”„ë¡œí•„ ì¡°íšŒ
        profile_response = await client.get("/profile", headers=headers)
        assert profile_response.status_code == 200
        
        # 4. ê²Œì‹œê¸€ ì‘ì„±
        post_data = {
            "title": "My First Post",
            "content": "Hello World!",
            "service_type": "general"
        }
        post_response = await client.post("/api/posts", json=post_data, headers=headers)
        assert post_response.status_code == 201
        
        post_slug = post_response.json()["slug"]
        
        # 5. ëŒ“ê¸€ ì‘ì„±
        comment_data = {"content": "Great post!"}
        comment_response = await client.post(
            f"/api/posts/{post_slug}/comments", 
            json=comment_data, 
            headers=headers
        )
        assert comment_response.status_code == 201
        
        # 6. ê²Œì‹œê¸€ ì¢‹ì•„ìš”
        like_response = await client.post(
            f"/api/posts/{post_slug}/like", 
            headers=headers
        )
        assert like_response.status_code == 200
        
        # 7. í†µê³„ í™•ì¸
        stats_response = await client.get(f"/api/posts/{post_slug}/stats")
        stats = stats_response.json()
        assert stats["likes_count"] == 1
        assert stats["comments_count"] == 1
```

#### 4.2 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
```python
# tests/performance/test_performance.py
import asyncio
import time

class TestPerformance:
    async def test_concurrent_requests(self, client):
        """ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ì„±ëŠ¥"""
        async def make_request():
            response = await client.get("/api/posts")
            return response.status_code
        
        # 100ê°œ ë™ì‹œ ìš”ì²­
        start_time = time.time()
        tasks = [make_request() for _ in range(100)]
        results = await asyncio.gather(*tasks)
        end_time = time.time()
        
        # ëª¨ë“  ìš”ì²­ì´ ì„±ê³µí•´ì•¼ í•¨
        assert all(status == 200 for status in results)
        
        # ì‘ë‹µ ì‹œê°„ ê²€ì¦ (10ì´ˆ ì´ë‚´)
        assert end_time - start_time < 10
    
    async def test_database_query_performance(self, authenticated_client):
        """ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥"""
        # ëŒ€ëŸ‰ ë°ì´í„° ìƒì„±
        for i in range(50):
            await authenticated_client.post("/api/posts", json={
                "title": f"Performance Test Post {i}",
                "content": f"Content {i}",
                "service_type": "general"
            })
        
        # í˜ì´ì§€ë„¤ì´ì…˜ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
        start_time = time.time()
        response = await authenticated_client.get("/api/posts?page=1&page_size=20")
        end_time = time.time()
        
        assert response.status_code == 200
        assert end_time - start_time < 2  # 2ì´ˆ ì´ë‚´
        assert len(response.json()["items"]) == 20
```

## ğŸ›  í…ŒìŠ¤íŠ¸ ë„êµ¬ ë° ì„¤ì •

### í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```python
# tests/utils.py
import io
from PIL import Image
from fastapi.testclient import TestClient
from httpx import AsyncClient

def create_test_image(format="JPEG", size=(100, 100)):
    """í…ŒìŠ¤íŠ¸ìš© ì´ë¯¸ì§€ íŒŒì¼ ìƒì„±"""
    image = Image.new("RGB", size, color="red")
    img_bytes = io.BytesIO()
    image.save(img_bytes, format=format)
    img_bytes.seek(0)
    return img_bytes

async def get_authenticated_client(user, app):
    """ì¸ì¦ëœ í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸íŠ¸ ìƒì„±"""
    async with AsyncClient(app=app, base_url="http://test") as client:
        login_data = {"username": user.email, "password": "testpass123"}
        login_response = await client.post("/login", data=login_data)
        token = login_response.json()["access_token"]
        client.headers.update({"Authorization": f"Bearer {token}"})
        return client

async def create_test_data(db):
    """í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±"""
    # í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„±
    test_user = User(
        email="test@example.com",
        user_handle="testuser",
        hashed_password="hashed_password"
    )
    await test_user.insert()
    
    # í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€ ìƒì„±
    test_post = Post(
        title="Test Post",
        content="Test Content",
        author_id=test_user.id,
        service_type=ServiceType.GENERAL,
        slug="test-post"
    )
    await test_post.insert()
    
    return test_user, test_post
```

### pytest ì„¤ì • ê°œì„ 
```python
# pytest.ini
[tool:pytest]
asyncio_mode = auto
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    --tb=short
    --strict-markers
    --strict-config
    --cov=src
    --cov-report=html
    --cov-report=term-missing
    --cov-fail-under=85

markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    security: marks tests as security tests
    performance: marks tests as performance tests
```

### GitHub Actions ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/tests.yml
name: Tests

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    services:
      mongodb:
        image: mongo:6.0
        ports:
          - 27017:27017
        options: >-
          --health-cmd mongo
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
    
    - name: Install uv
      uses: astral-sh/setup-uv@v1
    
    - name: Install dependencies
      run: |
        cd backend
        uv sync --all-extras
    
    - name: Run tests
      run: |
        cd backend
        uv run pytest tests/ -v --cov=src --cov-report=xml
      env:
        MONGODB_URL: mongodb://localhost:27017
        DATABASE_NAME: xai_community_test
        SECRET_KEY: test-secret-key-32-characters-long
        ENVIRONMENT: testing
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./backend/coverage.xml
        flags: backend
        name: backend-coverage
```

## ğŸ“‹ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Week 1: ê¸°ë°˜ ìˆ˜ì •
- [ ] Import ì˜¤ë¥˜ ìˆ˜ì • (4ê°œ íŒŒì¼)
- [ ] ì˜ì¡´ì„± ì¶”ê°€ (pillow, pytest-mock)
- [ ] conftest.py ê°œì„ 
- [ ] í…ŒìŠ¤íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ ë¶„ë¦¬
- [ ] ê¸°ì¡´ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìˆ˜ì •

### Week 2: ì¸ì¦ ë³´ì•ˆ í…ŒìŠ¤íŠ¸
- [ ] Refresh token í…ŒìŠ¤íŠ¸ (5ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í…ŒìŠ¤íŠ¸ (4ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] ê´€ë¦¬ì ê¶Œí•œ í…ŒìŠ¤íŠ¸ (6ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] ê³„ì • ê´€ë¦¬ í…ŒìŠ¤íŠ¸ (3ê°œ ì‹œë‚˜ë¦¬ì˜¤)

### Week 3: ì½˜í…ì¸  ë³´ì•ˆ í…ŒìŠ¤íŠ¸
- [ ] XSS ë°©ì§€ í…ŒìŠ¤íŠ¸ (ê²Œì‹œê¸€, ëŒ“ê¸€)
- [ ] ë§ˆí¬ë‹¤ìš´ ì¸ì ì…˜ ë°©ì§€
- [ ] íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ ê²€ì¦
- [ ] ì½˜í…ì¸  ê²€ì¦ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸

### Week 4: ì‚¬ìš©ì ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ë°˜ì‘ ì‹œìŠ¤í…œ (15ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] íŒŒì¼ ê´€ë¦¬ ì‹œìŠ¤í…œ (10ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] í†µê³„ ë° ë¶„ì„ (8ê°œ ì‹œë‚˜ë¦¬ì˜¤)
- [ ] ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### Week 5: í†µí•© ë° ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] E2E ì‚¬ìš©ì ì—¬ì • í…ŒìŠ¤íŠ¸
- [ ] ë™ì‹œì„± í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸

### Week 6: CI/CD ë° ìµœì¢… ê²€ì¦
- [ ] GitHub Actions ì„¤ì •
- [ ] ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŒ…
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] íŒ€ êµìœ¡ ë° ì¸ìˆ˜ì¸ê³„

## ğŸ¯ ì„±ê³µ ê¸°ì¤€

### ì •ëŸ‰ì  ëª©í‘œ
- **API í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: 85% ì´ìƒ (í˜„ì¬ 42% â†’ ëª©í‘œ 85%)
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨**: 98% ì´ìƒ
- **í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨**: 95% ì´ìƒ
- **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„**: í‰ê·  8ë¶„ ì´ë‚´

### ì •ì„±ì  ëª©í‘œ
- ëª¨ë“  ë³´ì•ˆ ì·¨ì•½ì ì— ëŒ€í•œ íšŒê·€ í…ŒìŠ¤íŠ¸ ì¡´ì¬
- CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ìë™ ì‹¤í–‰
- ëª…í™•í•œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì›ì¸ íŒŒì•… ê°€ëŠ¥
- ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜

## ğŸ“š ì°¸ê³  ìë£Œ

### ë‚´ë¶€ ë¬¸ì„œ
- [í…ŒìŠ¤íŠ¸ í˜„í™© ë¶„ì„ ë³´ê³ ì„œ](./í…ŒìŠ¤íŠ¸_í˜„í™©_ë¶„ì„_ë³´ê³ ì„œ.md)
- [API í…ŒìŠ¤íŠ¸ ë§¤íŠ¸ë¦­ìŠ¤](./API_í…ŒìŠ¤íŠ¸_ë§¤íŠ¸ë¦­ìŠ¤.md)
- [í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ](./í…ŒìŠ¤íŠ¸_ì‹¤í–‰_ê°€ì´ë“œ.md)

### ì™¸ë¶€ ì°¸ê³  ìë£Œ
- [FastAPI Testing Guide](https://fastapi.tiangolo.com/tutorial/testing/)
- [pytest-asyncio Documentation](https://pytest-asyncio.readthedocs.io/)
- [MongoDB Testing Best Practices](https://docs.mongodb.com/manual/tutorial/test-with-mongodb/)

---

**ì‘ì„±ì**: Claude Code  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-06-27  
**ë‹¤ìŒ ê²€í†  ì˜ˆì •**: ë§¤ì£¼ ì›”ìš”ì¼