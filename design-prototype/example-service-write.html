<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—…ì²´ ë“±ë¡ í˜ì´ì§€ - ìµœì¢… ê°œì„  ë””ìì¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì»¤ìŠ¤í…€ ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼ */
        .service-item {
            /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì œê±° */
        }
        
        .service-add-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border: none;
            /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì œê±° */
        }
        
        .service-counter {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        }
        
        /* CSS Variables for theme colors */
        :root {
            --var-section: #f8fafc;
            --var-color: #e2e8f0;
            --var-primary: #1e293b;
            --var-muted: #94a3b8;
            --accent-primary: #3b82f6;
        }
        
        .bg-var-section { background-color: var(--var-section); }
        .border-var-color { border-color: var(--var-color); }
        .text-var-primary { color: var(--var-primary); }
        .placeholder-var-muted::placeholder { color: var(--var-muted); }
        .focus\:ring-accent-primary:focus { --tw-ring-color: var(--accent-primary); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto p-6">
        <!-- í—¤ë” -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">ì—…ì²´ ë“±ë¡</h1>
            <p class="text-gray-600">ì•„íŒŒíŠ¸ ì£¼ë¯¼ë“¤ì—ê²Œ ìœ ìš©í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ë¥¼ ë“±ë¡í•´ë³´ì„¸ìš”.</p>
        </div>

        <!-- ì—…ì²´ ë“±ë¡ í¼ -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <form class="space-y-8">
                <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-3">
                        ì¹´í…Œê³ ë¦¬ <span class="text-red-500">*</span>
                    </label>
                    <select class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="moving">ì´ì‚¬</option>
                        <option value="cleaning">ì²­ì†Œ</option>
                        <option value="aircon">ì—ì–´ì»¨</option>
                    </select>
                </div>

                <!-- ì—…ì²´ëª… ì…ë ¥ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-3">
                        ì—…ì²´ëª… <span class="text-red-500">*</span>
                    </label>
                    <input
                        type="text"
                        placeholder="ì—…ì²´ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"
                        class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        value="ê¹”ë”í•œ ì´ì‚¬ ì„œë¹„ìŠ¤"
                    />
                </div>

                <!-- ì—°ë½ì²˜ì™€ ë¬¸ì˜ ê°€ëŠ¥ì‹œê°„ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">
                            ì—°ë½ì²˜ <span class="text-red-500">*</span>
                        </label>
                        <input
                            type="tel"
                            placeholder="ì—°ë½ì²˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            value="010-1234-5678"
                        />
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">
                            ë¬¸ì˜ ê°€ëŠ¥ì‹œê°„ <span class="text-red-500">*</span>
                        </label>
                        <input
                            type="text"
                            placeholder="ì˜ˆ: 09:00~18:00"
                            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            value="09:00~18:00"
                        />
                    </div>
                </div>

                <!-- ì„œë¹„ìŠ¤ ëª©ë¡ ì„¹ì…˜ - ê°œì„ ëœ ì„¹ì…˜ + ê¸°ì¡´ ì…ë ¥ í˜•íƒœ -->
                <div>
                    <div class="flex items-center justify-between mb-4">
                        <label class="block text-sm font-medium text-gray-700">
                            ì„œë¹„ìŠ¤ ëª©ë¡ <span class="text-red-500">*</span>
                        </label>
                        <button
                            type="button"
                            class="service-add-btn px-4 py-2 text-white rounded-lg text-sm font-medium flex items-center gap-2"
                            onclick="addService()"
                        >
                            <span>â•</span>
                            <span>ì¶”ê°€</span>
                        </button>
                    </div>
                    
                    <!-- ì„œë¹„ìŠ¤ ëª©ë¡ ì»¨í…Œì´ë„ˆ -->
                    <div id="servicesList" class="space-y-6">
                        <!-- ì„œë¹„ìŠ¤ ì•„ì´í…œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì—…ì²´ ì†Œê°œ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-3">
                        ì—…ì²´ ì†Œê°œ
                    </label>
                    <textarea
                        placeholder="ì—…ì²´ ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                        rows="6"
                        class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical"
                    >ì „ë¬¸ì ì´ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì´ì‚¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê³ ê° ë§Œì¡±ì„ ìµœìš°ì„ ìœ¼ë¡œ ìƒê°í•˜ë©°, ì•ˆì „í•˜ê³  ê¹”ë”í•œ ì´ì‚¬ë¥¼ ë„ì™€ë“œë¦½ë‹ˆë‹¤.</textarea>
                    <div class="mt-2 text-xs text-gray-500 text-right">
                        86/1,000ì
                    </div>
                </div>

                <!-- ë“±ë¡ ê°€ì´ë“œë¼ì¸ -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-medium text-blue-900 mb-2">ğŸ“ ì—…ì²´ ë“±ë¡ ê°€ì´ë“œë¼ì¸</h4>
                    <ul class="text-sm text-blue-800 space-y-1">
                        <li>â€¢ ì •í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì—…ì²´ ì •ë³´ë¥¼ ì œê³µí•´ì£¼ì„¸ìš”</li>
                        <li>â€¢ ì„œë¹„ìŠ¤ ë‚´ìš©ê³¼ ê°€ê²©ì„ ëª…í™•í•˜ê²Œ ê¸°ì¬í•´ì£¼ì„¸ìš”</li>
                        <li>â€¢ ì—°ë½ì²˜ì™€ ë¬¸ì˜ ê°€ëŠ¥ì‹œê°„ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”</li>
                        <li>â€¢ ì•„íŒŒíŠ¸ ì£¼ë¯¼ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”</li>
                        <li>â€¢ í—ˆìœ„ ì •ë³´ë‚˜ ê³¼ì¥ëœ ë‚´ìš©ì€ í”¼í•´ì£¼ì„¸ìš”</li>
                    </ul>
                </div>

                <!-- ë²„íŠ¼ ì˜ì—­ -->
                <div class="flex justify-end gap-3 pt-6 border-t border-gray-200">
                    <button
                        type="button"
                        class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"
                    >
                        ì·¨ì†Œ
                    </button>
                    <button
                        type="submit"
                        class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2"
                    >
                        <span>ğŸ“</span>
                        <span>ì—…ì²´ ë“±ë¡</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let serviceCount = 0;
        
        // ì„œë¹„ìŠ¤ ëª©ë¡ ì´ˆê¸° ë°ì´í„°
        const initialServices = [
            {
                serviceName: "ì›ë£¸ ì´ì‚¬",
                price: "80000",
                specialPrice: "60000",
                hasSpecialPrice: true
            },
            {
                serviceName: "íˆ¬ë£¸ ì´ì‚¬",
                price: "120000",
                specialPrice: "",
                hasSpecialPrice: false
            },
            {
                serviceName: "í¬ì¥ ì„œë¹„ìŠ¤",
                price: "50000",
                specialPrice: "40000",
                hasSpecialPrice: true
            }
        ];

        // ì„œë¹„ìŠ¤ ì•„ì´í…œ HTML ìƒì„± (ê¸°ì¡´ í”„ëŸ°íŠ¸ì—”ë“œ í˜•íƒœ ë™ì¼)
        function createServiceItem(service, index) {
            const serviceId = `service-${index}`;
            
            return `
                <div class="service-item relative border border-gray-200 rounded-lg p-4" data-service-id="${serviceId}">
                    <!-- ì‚­ì œ ë²„íŠ¼ (ì²« ë²ˆì§¸ ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ) -->
                    ${index > 0 ? `
                        <div class="flex justify-end mb-2">
                            <button 
                                type="button" 
                                class="text-red-500 hover:text-red-600 text-xs"
                                onclick="removeService('${serviceId}')"
                            >
                                ì‚­ì œ
                            </button>
                        </div>
                    ` : ''}

                    <!-- ê¸°ì¡´ í”„ëŸ°íŠ¸ì—”ë“œì™€ ë™ì¼í•œ ë ˆì´ì•„ì›ƒ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- ì„œë¹„ìŠ¤ ì´ë¦„ -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label class="block text-xs font-medium text-gray-600">
                                    ì„œë¹„ìŠ¤${index + 1} ì´ë¦„
                                </label>
                            </div>
                            <input
                                type="text"
                                value="${service.serviceName}"
                                placeholder="ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                class="w-full px-3 py-2 bg-var-section border border-var-color rounded-lg text-var-primary placeholder-var-muted focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent text-sm"
                                maxlength="100"
                            />
                        </div>
                        
                        <!-- ê°€ê²© -->
                        <div>
                            <label class="block text-xs font-medium text-gray-600 mb-2">
                                ì„œë¹„ìŠ¤${index + 1} ê°€ê²©
                            </label>
                            <div class="space-y-2">
                                <div class="flex items-center gap-3">
                                    <input
                                        type="number"
                                        value="${service.price}"
                                        placeholder="${service.hasSpecialPrice ? 'ê¸°ì¡´ ê°€ê²©' : 'ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš”'}"
                                        class="flex-1 px-3 py-2 bg-var-section border border-var-color rounded-lg text-var-primary placeholder-var-muted focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent text-sm"
                                        min="0"
                                        style="appearance: textfield; -moz-appearance: textfield; -webkit-appearance: none;"
                                        oninput="handlePriceChange('${serviceId}', this.value)"
                                    />
                                    <label class="flex items-center gap-1 text-xs text-var-primary">
                                        <input
                                            type="checkbox"
                                            ${service.hasSpecialPrice ? 'checked' : ''}
                                            class="w-3 h-3 text-accent-primary bg-var-section border-var-color rounded focus:ring-accent-primary focus:ring-1"
                                            onchange="handleSpecialPriceToggle('${serviceId}', this.checked)"
                                        />
                                        íŠ¹ê°€
                                    </label>
                                </div>
                                
                                <!-- íŠ¹ê°€ ì…ë ¥ (ì²´í¬ì‹œì—ë§Œ í‘œì‹œ) -->
                                ${service.hasSpecialPrice ? `
                                    <div class="flex items-center gap-3 special-price-input">
                                        <input
                                            type="number"
                                            value="${service.specialPrice}"
                                            placeholder="íŠ¹ê°€ ê°€ê²©"
                                            class="flex-1 px-3 py-2 bg-var-section border border-var-color rounded-lg text-var-primary placeholder-var-muted focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent text-sm"
                                            min="0"
                                            style="appearance: textfield; -moz-appearance: textfield; -webkit-appearance: none;"
                                            oninput="handleSpecialPriceChange('${serviceId}', this.value)"
                                        />
                                        <div class="w-10"></div>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // ì„œë¹„ìŠ¤ ëª©ë¡ ë Œë”ë§
        function renderServices() {
            const servicesList = document.getElementById('servicesList');
            servicesList.innerHTML = initialServices.map((service, index) => createServiceItem(service, index)).join('');
            serviceCount = initialServices.length;
        }

        // ì„œë¹„ìŠ¤ ì¶”ê°€
        function addService() {
            const servicesList = document.getElementById('servicesList');
            const newService = {
                serviceName: "",
                price: "",
                specialPrice: "",
                hasSpecialPrice: false
            };
            
            servicesList.insertAdjacentHTML('beforeend', createServiceItem(newService, serviceCount));
            serviceCount++;
        }

        // ì„œë¹„ìŠ¤ ì‚­ì œ
        function removeService(serviceId) {
            const serviceElement = document.querySelector(`[data-service-id="${serviceId}"]`);
            if (serviceElement) {
                serviceElement.remove();
                
                // ë¼ë²¨ ë²ˆí˜¸ ì¬ì •ë ¬
                const serviceItems = document.querySelectorAll('.service-item');
                serviceItems.forEach((item, index) => {
                    // ë¼ë²¨ ì—…ë°ì´íŠ¸
                    const nameLabel = item.querySelector('label');
                    if (nameLabel) {
                        nameLabel.textContent = `ì„œë¹„ìŠ¤${index + 1} ì´ë¦„`;
                    }
                    
                    const priceLabel = item.querySelectorAll('label')[1];
                    if (priceLabel) {
                        priceLabel.textContent = `ì„œë¹„ìŠ¤${index + 1} ê°€ê²©`;
                    }
                });
            }
        }

        // íŠ¹ê°€ ì²´í¬ë°•ìŠ¤ í† ê¸€
        function handleSpecialPriceToggle(serviceId, isChecked) {
            const serviceElement = document.querySelector(`[data-service-id="${serviceId}"]`);
            const priceInput = serviceElement.querySelector('input[type="number"]');
            const spaceDiv = serviceElement.querySelector('.space-y-2');
            
            if (isChecked) {
                // íŠ¹ê°€ ì…ë ¥ í•„ë“œ ì¶”ê°€
                priceInput.placeholder = "ê¸°ì¡´ ê°€ê²©";
                
                const specialPriceHtml = `
                    <div class="flex items-center gap-3 special-price-input">
                        <input
                            type="number"
                            placeholder="íŠ¹ê°€ ê°€ê²©"
                            class="flex-1 px-3 py-2 bg-var-section border border-var-color rounded-lg text-var-primary placeholder-var-muted focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent text-sm"
                            min="0"
                            style="appearance: textfield; -moz-appearance: textfield; -webkit-appearance: none;"
                            oninput="handleSpecialPriceChange('${serviceId}', this.value)"
                        />
                        <div class="w-10"></div>
                    </div>
                `;
                
                spaceDiv.insertAdjacentHTML('beforeend', specialPriceHtml);
            } else {
                // íŠ¹ê°€ ì…ë ¥ í•„ë“œ ì œê±°
                priceInput.placeholder = "ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš”";
                const specialPriceInput = serviceElement.querySelector('.special-price-input');
                if (specialPriceInput) {
                    specialPriceInput.remove();
                }
            }
        }

        // ê°€ê²© ë³€ê²½ í•¸ë“¤ëŸ¬
        function handlePriceChange(serviceId, value) {
            // ìˆ«ìë§Œ í—ˆìš©
            const cleanedValue = value.replace(/[^\d]/g, '');
            const serviceElement = document.querySelector(`[data-service-id="${serviceId}"]`);
            const priceInput = serviceElement.querySelector('input[type="number"]');
            priceInput.value = cleanedValue;
        }

        // íŠ¹ê°€ ê°€ê²© ë³€ê²½ í•¸ë“¤ëŸ¬
        function handleSpecialPriceChange(serviceId, value) {
            // ìˆ«ìë§Œ í—ˆìš©
            const cleanedValue = value.replace(/[^\d]/g, '');
            const serviceElement = document.querySelector(`[data-service-id="${serviceId}"]`);
            const specialPriceInput = serviceElement.querySelector('.special-price-input input');
            if (specialPriceInput) {
                specialPriceInput.value = cleanedValue;
            }
        }

        // ì´ˆê¸° ë Œë”ë§
        renderServices();
    </script>
</body>
</html>