#!/usr/bin/env python3
"""
Property Information Content Generator

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì •ë³´ í˜ì´ì§€ìš© ë¶€ë™ì‚° ì •ë³´ ê²Œì‹œê¸€ì„ ìƒì„±í•©ë‹ˆë‹¤.
ê´€ë¦¬ìê°€ ì‹¤í–‰í•˜ì—¬ ì •ë³´ í˜ì´ì§€ì— í‘œì‹œí•  ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.
"""

import asyncio
import json
import random
from datetime import datetime, timedelta
from typing import List, Dict, Any

# Import backend dependencies
from nadle_backend.database.connection import database
from nadle_backend.models.core import User, Post, PostMetadata, UserCreate
from nadle_backend.services.auth_service import AuthService
from nadle_backend.services.posts_service import PostsService
from nadle_backend.utils.password import PasswordManager

# ì •ë³´ ì¹´í…Œê³ ë¦¬ë³„ ì½˜í…ì¸  í…œí”Œë¦¿
PROPERTY_INFO_CATEGORIES = {
    "market_analysis": {
        "label": "ì‹œì„¸ë¶„ì„",
        "templates": [
            {
                "title": "2025ë…„ {area} ì•„íŒŒíŠ¸ ì‹œì„¸ ì „ë§ ë¶„ì„",
                "content": """# 2025ë…„ {area} ì•„íŒŒíŠ¸ ì‹œì„¸ ì „ë§

## ğŸ“ˆ ì‹œì¥ í˜„í™©
í˜„ì¬ {area} ì•„íŒŒíŠ¸ ì‹œì¥ì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤:

- **í‰ê·  ì‹œì„¸**: ì „ë…„ ëŒ€ë¹„ {change}% {direction}
- **ê±°ë˜ëŸ‰**: ì „ì›” ëŒ€ë¹„ {volume_change}% {volume_direction}
- **ì „ì„¸ ì‹œì¥**: ì•ˆì •ì„¸ ìœ ì§€, ì›”ì„¸ ì „í™˜ ì¦ê°€

## ğŸ” ì£¼ìš” ë¶„ì„ í¬ì¸íŠ¸

### 1. ê³µê¸‰ í˜„í™©
- ì‹ ê·œ ë¶„ì–‘ ì˜ˆì •: {new_supply}ì„¸ëŒ€
- ì¤€ê³µ ì˜ˆì •: {completion}ë…„ {total_completion}ì„¸ëŒ€

### 2. ìˆ˜ìš” ìš”ì¸
- êµí†µ ì¸í”„ë¼ ê°œì„  (ì§€í•˜ì²  ì—°ì¥, ë„ë¡œ í™•ì¥)
- êµìœ¡ í™˜ê²½ ê°œì„  (í•™êµ ì‹ ì„¤, í•™êµ° ë³€í™”)
- ìƒì—…ì‹œì„¤ í™•ì¶© (ëŒ€í˜• ì‡¼í•‘ëª°, ë³‘ì› ë“±)

### 3. ì „ë§
í–¥í›„ 6ê°œì›”ê°„ {area} ì•„íŒŒíŠ¸ ì‹œì¥ì€:
- ë‹¨ê¸°ì ìœ¼ë¡œ í˜„ì¬ ìˆ˜ì¤€ ìœ ì§€ ì „ë§
- í•˜ë°˜ê¸° ì‹ ê·œ ê³µê¸‰ ë¬¼ëŸ‰ì— ë”°ë¥¸ ë³€ë™ ê°€ëŠ¥ì„±
- ì •ë¶€ ì •ì±… ë³€í™”ì— ë”°ë¥¸ ì˜í–¥ ì£¼ì‹œ í•„ìš”

## ğŸ’¡ íˆ¬ì ê³ ë ¤ì‚¬í•­
1. **ì¥ê¸° ë³´ìœ  ê´€ì **: ì¸í”„ë¼ ê°œë°œ ìˆ˜í˜œ ì§€ì—­ ìš°ì„  ê²€í† 
2. **ì‹¤ê±°ì£¼ ëª©ì **: ìƒí™œ í¸ì˜ì‹œì„¤ê³¼ êµìœ¡ í™˜ê²½ ê³ ë ¤
3. **ìê¸ˆ ê³„íš**: ëŒ€ì¶œ ê¸ˆë¦¬ ìƒìŠ¹ì— ë”°ë¥¸ ë¶€ë‹´ ì¦ê°€ ê³ ë ¤

*ë³¸ ë¶„ì„ì€ ê³µê°œëœ ê±°ë˜ ë°ì´í„°ì™€ ì‹œì¥ ë™í–¥ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, íˆ¬ì ê²°ì • ì‹œ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.*""",
                "tags": ["ì‹œì„¸ë¶„ì„", "ë¶€ë™ì‚°ì „ë§", "íˆ¬ìë¶„ì„"],
                "data_source": "ë¶€ë™ì‚°ì›, êµ­í† êµí†µë¶€"
            },
            {
                "title": "{quarter} ë¶„ê¸° ìˆ˜ë„ê¶Œ ì•„íŒŒíŠ¸ ê±°ë˜ ë™í–¥",
                "content": """# {quarter} ë¶„ê¸° ìˆ˜ë„ê¶Œ ì•„íŒŒíŠ¸ ê±°ë˜ ë™í–¥

## ğŸ“Š ê±°ë˜ëŸ‰ í˜„í™©
{quarter} ë¶„ê¸° ìˆ˜ë„ê¶Œ ì•„íŒŒíŠ¸ ê±°ë˜ëŸ‰ì€ ì „ë¶„ê¸° ëŒ€ë¹„ ë³€í™”ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤.

### ì§€ì—­ë³„ ê±°ë˜ í˜„í™©
- **ì„œìš¸**: {seoul_volume}ê±´ (ì „ë¶„ê¸° ëŒ€ë¹„ {seoul_change}%)
- **ê²½ê¸°**: {gyeonggi_volume}ê±´ (ì „ë¶„ê¸° ëŒ€ë¹„ {gyeonggi_change}%)
- **ì¸ì²œ**: {incheon_volume}ê±´ (ì „ë¶„ê¸° ëŒ€ë¹„ {incheon_change}%)

## ğŸ“ˆ ê°€ê²© ë™í–¥
í‰ê·  ê±°ë˜ê°€ê²©ì€ ë‹¤ìŒê³¼ ê°™ì€ ë³€í™”ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤:

### í‰í˜•ë³„ ê°€ê²© ë³€í™”
- **ì†Œí˜•í‰í˜• (60ã¡ ì´í•˜)**: í‰ê·  {small_price}ë§Œì› ({small_change}%)
- **ì¤‘í˜•í‰í˜• (60~85ã¡)**: í‰ê·  {medium_price}ë§Œì› ({medium_change}%)
- **ëŒ€í˜•í‰í˜• (85ã¡ ì´ìƒ)**: í‰ê·  {large_price}ë§Œì› ({large_change}%)

## ğŸ” ì£¼ìš” íŠ¹ì§•
1. **ì‹ ì¶• ì•„íŒŒíŠ¸**: í”„ë¦¬ë¯¸ì—„ ìœ ì§€, ì…ì§€ ì¡°ê±´ì— ë”°ë¥¸ ì°¨ë³„í™”
2. **ì¬ê±´ì¶• ë‹¨ì§€**: ê¸°ëŒ€ê°ì— ë”°ë¥¸ ê°€ê²© ìƒìŠ¹
3. **ì—­ì„¸ê¶Œ ë¬¼ê±´**: êµí†µ ì ‘ê·¼ì„± ìš°ìˆ˜ ì§€ì—­ ì„ í˜¸ë„ ì¦ê°€

## ğŸ“‹ í–¥í›„ ì „ë§
- ê¸ˆë¦¬ ë³€ë™ì— ë”°ë¥¸ ì‹œì¥ ë°˜ì‘ ì£¼ì‹œ
- ì •ë¶€ ì •ì±… ë³€í™” ëª¨ë‹ˆí„°ë§ í•„ìš”
- ì§€ì—­ë³„ ê°œë°œ ê³„íš ê²€í†  ê¶Œì¥

*ë°ì´í„° ê¸°ì¤€ì¼: {report_date}*""",
                "tags": ["ê±°ë˜ë™í–¥", "ìˆ˜ë„ê¶Œ", "ë¶„ê¸°ë³´ê³ ì„œ"],
                "data_source": "ë¶€ë™ì‚°ì› ì‹¤ê±°ë˜ê°€ ê³µê°œì‹œìŠ¤í…œ"
            }
        ]
    },
    "legal_info": {
        "label": "ë²•ë¥ ì •ë³´",
        "templates": [
            {
                "title": "2025ë…„ ë¶€ë™ì‚° ê´€ë ¨ ë²•ë ¹ ì£¼ìš” ë³€ê²½ì‚¬í•­",
                "content": """# 2025ë…„ ë¶€ë™ì‚° ê´€ë ¨ ë²•ë ¹ ì£¼ìš” ë³€ê²½ì‚¬í•­

## ğŸ“œ ì£¼ìš” ë³€ê²½ ë‚´ìš©

### 1. ì·¨ë“ì„¸ ê´€ë ¨
- **ë‹¤ì£¼íƒì ì¤‘ê³¼ì„¸ìœ¨ ì¡°ì •**: ê¸°ì¡´ {old_rate}% â†’ {new_rate}%
- **1ì„¸ëŒ€ 1ì£¼íƒ íŠ¹ë¡€ í™•ëŒ€**: ì¡°ì •ëŒ€ìƒì§€ì—­ ê¸°ì¤€ ì™„í™”

### 2. ì–‘ë„ì†Œë“ì„¸ ê°œí¸
- **ë³´ìœ ê¸°ê°„ë³„ ì„¸ìœ¨ êµ¬ì¡° ë³€ê²½**
  - 1ë…„ ì´í•˜: {short_rate}%
  - 2ë…„ ì´í•˜: {medium_rate}%
  - 2ë…„ ì´ˆê³¼: {long_rate}%

### 3. ì„ëŒ€ì°¨ë³´í˜¸ë²• ê°œì •
- **ì „ì›”ì„¸ ìƒí•œì œ**: ì—° {rent_limit}% ì¸ìƒ ì œí•œ
- **ê³„ì•½ê°±ì‹ ì²­êµ¬ê¶Œ**: {renewal_years}ë…„ â†’ {new_renewal_years}ë…„ ì—°ì¥

## âš–ï¸ ì£¼ìš” ìŸì ì‚¬í•­

### ë‹¤ì£¼íƒì ê³¼ì„¸ ê°•í™”
ì •ë¶€ëŠ” ì£¼íƒ ì‹œì¥ ì•ˆì •ì„ ìœ„í•´ ë‹¤ì£¼íƒìì— ëŒ€í•œ ì„¸ê¸ˆ ë¶€ë‹´ì„ ì§€ì†ì ìœ¼ë¡œ ê°•í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**ì ìš© ëŒ€ìƒ:**
- ì¡°ì •ëŒ€ìƒì§€ì—­ ë‚´ 2ì£¼íƒ ì´ìƒ ë³´ìœ ì
- íˆ¬ê¸°ì§€ì—­ ë‚´ 1ì£¼íƒ ë³´ìœ ì (ì¼ë¶€ ì¡°ê±´)

### 1ì„¸ëŒ€ 1ì£¼íƒ íŠ¹ë¡€ í™•ëŒ€
ì‹¤ê±°ì£¼ ëª©ì ì˜ ì£¼íƒ êµ¬ì…ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ì •ì±…ì…ë‹ˆë‹¤.

**í˜œíƒ ë‚´ìš©:**
- ì·¨ë“ì„¸ ê°ë©´ ë˜ëŠ” ê²½ê°
- ì–‘ë„ì†Œë“ì„¸ ë¹„ê³¼ì„¸ í˜œíƒ

## ğŸ“ ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ

### ì£¼íƒ êµ¬ì… ì‹œ ì²´í¬í¬ì¸íŠ¸
1. **ì„¸ê¸ˆ ë¶€ë‹´ ê³„ì‚°**: ì·¨ë“ì„¸, ë“±ë¡ì„¸ ì‚¬ì „ ê³„ì‚°
2. **ê±°ì£¼ ê³„íš**: ì‹¤ê±°ì£¼ ìš”ê±´ ì¶©ì¡± ë°©ì•ˆ ê²€í† 
3. **ìê¸ˆ ì¶œì²˜**: ìê¸ˆì¡°ë‹¬ê³„íšì„œ ì‘ì„± í•„ìš”

### ì£¼íƒ ë§¤ê° ì‹œ ì£¼ì˜ì‚¬í•­
1. **ë³´ìœ ê¸°ê°„**: ì„¸ìœ¨ êµ¬ê°„ í™•ì¸
2. **ê±°ì£¼ ì—¬ë¶€**: ì‹¤ê±°ì£¼ íŠ¹ë¡€ ì ìš© ê°€ëŠ¥ì„± ê²€í† 
3. **ì„¸ë¬´ ì‹ ê³ **: ì •í™•í•œ ì‹ ê³ ë¥¼ ìœ„í•œ ì „ë¬¸ê°€ ìƒë‹´

## ğŸ’¡ ì „ë¬¸ê°€ ì¡°ì–¸
- ë²•ë ¹ í•´ì„ì— ìˆì–´ ê°œë³„ ì‚¬ì•ˆë³„ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì„¸ë¬´ ì „ë¬¸ê°€ ìƒë‹´ ê¶Œì¥
- ì •ì±… ë³€í™”ì— ë”°ë¥¸ ì˜í–¥ì„ ì‚¬ì „ì— ê²€í† í•˜ì—¬ ê³„íš ìˆ˜ë¦½ í•„ìš”
- ê´€ë ¨ ì„œë¥˜ ì¤€ë¹„ì™€ ì‹ ê³  ê¸°í•œ ì¤€ìˆ˜ ì¤‘ìš”

*ë³¸ ì •ë³´ëŠ” {update_date} ê¸°ì¤€ì´ë©°, ìµœì‹  ë²•ë ¹ ë³€í™”ëŠ” ê´€ë ¨ ê¸°ê´€ í™ˆí˜ì´ì§€ë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.*""",
                "tags": ["ë¶€ë™ì‚°ë²•ë ¹", "ì„¸ê¸ˆ", "ë²•ë¥ ë³€ê²½"],
                "data_source": "êµ­í† êµí†µë¶€, ê¸°íšì¬ì •ë¶€"
            },
            {
                "title": "ì•„íŒŒíŠ¸ ë§¤ë§¤ê³„ì•½ ì‹œ í•„ìˆ˜ í™•ì¸ì‚¬í•­",
                "content": """# ì•„íŒŒíŠ¸ ë§¤ë§¤ê³„ì•½ ì‹œ í•„ìˆ˜ í™•ì¸ì‚¬í•­

## ğŸ“‹ ê³„ì•½ ì „ í•„ìˆ˜ ì ê²€ì‚¬í•­

### 1. ë¬¼ê±´ ê¸°ë³¸ì •ë³´ í™•ì¸
- **ë“±ê¸°ë¶€ë“±ë³¸**: ì†Œìœ ê¶Œ, ê·¼ì €ë‹¹ê¶Œ, ì „ì„¸ê¶Œ ë“± ê¶Œë¦¬ê´€ê³„ í™•ì¸
- **ê±´ì¶•ë¬¼ëŒ€ì¥**: ì‹¤ì œ ë©´ì , ìš©ë„, êµ¬ì¡° ë“± ê¸°ë³¸ ì •ë³´
- **í† ì§€ì´ìš©ê³„íš**: ê°œë°œì œí•œêµ¬ì—­, ë„ì‹œê³„íšì‹œì„¤ ë“±

### 2. ì„¸ê¸ˆ ë° ê³µê³¼ê¸ˆ í™•ì¸
- **ì¬ì‚°ì„¸**: ì—°ì²´ ì—¬ë¶€ ë° ë¶€ê³¼ í˜„í™©
- **ê´€ë¦¬ë¹„**: ë¯¸ë‚© ê´€ë¦¬ë¹„ ë° ì‚¬ìš©ë£Œ
- **ê³µê³¼ê¸ˆ**: ì „ê¸°, ê°€ìŠ¤, ìˆ˜ë„ìš”ê¸ˆ ì •ì‚°

## ğŸ“ ê³„ì•½ì„œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­

### í•„ìˆ˜ ê¸°ì¬ì‚¬í•­
1. **ë¬¼ê±´ì˜ í‘œì‹œ**: ì •í™•í•œ ì£¼ì†Œ, ë©´ì , ì¸µìˆ˜
2. **ë§¤ë§¤ëŒ€ê¸ˆ**: ê³„ì•½ê¸ˆ, ì¤‘ë„ê¸ˆ, ì”ê¸ˆ ì¼ì •
3. **íŠ¹ì•½ì‚¬í•­**: ì–‘ ë‹¹ì‚¬ì í•©ì˜ëœ íŠ¹ë³„ ì¡°ê±´

### ê³„ì•½ê¸ˆ ê´€ë ¨
- **ì ì • ê¸ˆì•¡**: ë§¤ë§¤ëŒ€ê¸ˆì˜ 10% ë‚´ì™¸ ê¶Œì¥
- **ë³´ê´€ ë°©ë²•**: ê³µì¸ì¤‘ê°œì‚¬ ì‚¬ë¬´ì†Œ ì˜ˆì¹˜ ë˜ëŠ” ì—ìŠ¤í¬ë¡œ ì„œë¹„ìŠ¤ ì´ìš©
- **ê³„ì•½í•´ì œ**: ê³„ì•½ê¸ˆ í¬ê¸°/ë°°ìƒ ì¡°ê±´ ëª…ì‹œ

## âš ï¸ ì£¼ì˜í•´ì•¼ í•  í•¨ì •

### 1. ê¶Œë¦¬ê´€ê³„ ë³µì¡í•œ ë¬¼ê±´
- ê²½ë§¤ë‚˜ ê³µë§¤ ì˜ˆì • ë¬¼ê±´
- ë‹¤ìˆ˜ì˜ ê·¼ì €ë‹¹ê¶Œ ì„¤ì • ë¬¼ê±´
- ì„ì°¨ì¸ì´ ë‹¤ìˆ˜ì¸ ê²½ìš°

### 2. ê°€ê²© ê´€ë ¨ ë¦¬ìŠ¤í¬
- ì‹œì„¸ë³´ë‹¤ í˜„ì €íˆ ì €ë ´í•œ ë¬¼ê±´
- ê¸‰ë§¤ë¬¼ì´ë¼ë©° ì„œë‘ë¥´ê²Œ í•˜ëŠ” ê²½ìš°
- ì¤‘ê°œìˆ˜ìˆ˜ë£Œ í• ì¸ì„ ë‚´ì„¸ìš°ëŠ” ê²½ìš°

## ğŸ›¡ï¸ ì•ˆì „í•œ ê±°ë˜ë¥¼ ìœ„í•œ íŒ

### ì „ë¬¸ê°€ í™œìš©
- **ê³µì¸ì¤‘ê°œì‚¬**: ë¯¿ì„ ë§Œí•œ ì—…ì²´ ì„ íƒ
- **ë²•ë¬´ì‚¬**: ë“±ê¸° ì—…ë¬´ ë° ë²•ë¥  ê²€í† 
- **ì„¸ë¬´ì‚¬**: ì„¸ê¸ˆ ê³„ì‚° ë° ì ˆì„¸ ë°©ì•ˆ

### ê¸ˆìœµ ì¤€ë¹„
- **ëŒ€ì¶œ ì‚¬ì „ìŠ¹ì¸**: ì‹¤í–‰ ê°€ëŠ¥ì„± í™•ì¸
- **ìê¸ˆ ì¡°ë‹¬**: ê³„íšì ì¸ ìê¸ˆ ì¤€ë¹„
- **ë³´í—˜ ê°€ì…**: í™”ì¬ë³´í—˜ ë“± í•„ìˆ˜ ë³´í—˜

## ğŸ“ ë„ì›€ë°›ì„ ìˆ˜ ìˆëŠ” ê³³
- **ë¶€ë™ì‚°ê±°ë˜ì‹ ê³ ì„¼í„°**: ê±°ë˜ì‹ ê³  ê´€ë ¨ ë¬¸ì˜
- **ì†Œë¹„ìë³´í˜¸ì›**: ë¶„ìŸ ì¡°ì • ë° ìƒë‹´
- **ë²•ë¥ ìƒë‹´ì„¼í„°**: ê³„ì•½ì„œ ê²€í†  ë° ë²•ë¥  ìƒë‹´

*ê³„ì•½ì€ ì‹ ì¤‘í•˜ê²Œ, í™•ì¸ì€ ì² ì €í•˜ê²Œ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.*""",
                "tags": ["ë§¤ë§¤ê³„ì•½", "ê³„ì•½ì„œ", "ë¶€ë™ì‚°ê±°ë˜"],
                "data_source": "êµ­í† êµí†µë¶€ ë¶€ë™ì‚°ê±°ë˜ê´€ë¦¬ì‹œìŠ¤í…œ"
            }
        ]
    },
    "move_in_guide": {
        "label": "ì…ì£¼ê°€ì´ë“œ",
        "templates": [
            {
                "title": "ì‹ ì¶• ì•„íŒŒíŠ¸ ì…ì£¼ ì™„ë²½ ê°€ì´ë“œ",
                "content": """# ì‹ ì¶• ì•„íŒŒíŠ¸ ì…ì£¼ ì™„ë²½ ê°€ì´ë“œ

## ğŸ  ì…ì£¼ ì „ ì¤€ë¹„ì‚¬í•­

### 1. ì…ì£¼ ì¼ì • í™•ì¸
- **ì…ì£¼ì§€ì •ê¸°ê°„**: í†µìƒ 30ì¼ê°„ (ë³€ê²½ ë¶ˆê°€)
- **ì‚¬ì „ì ê²€**: ì…ì£¼ 2ì£¼ ì „ í•˜ìì ê²€ ì‹¤ì‹œ
- **ì¤€ë¹„ë¬¼**: ì‹ ë¶„ì¦, ì¸ê°ì¦ëª…ì„œ, ì…ì£¼ê¸ˆ ë‚©ë¶€í™•ì¸ì„œ

### 2. í•˜ìì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### êµ¬ì¡° ë° ë§ˆê°ì¬
- [ ] ë²½ë©´ ê· ì—´, í‹ˆìƒˆ í™•ì¸
- [ ] ë°”ë‹¥ í‰íƒ„ë„ ë° ë§ˆê° ìƒíƒœ
- [ ] ì°½í˜¸ ê°œí ìƒíƒœ ë° ë°€íì„±
- [ ] ë„ì–´ ê°œí ìƒíƒœ ë° ì†ì¡ì´ ì‘ë™

#### ì „ê¸° ë° ì„¤ë¹„
- [ ] ì „ì²´ ì½˜ì„¼íŠ¸ ì‘ë™ í™•ì¸
- [ ] ì¡°ëª… ë° ìŠ¤ìœ„ì¹˜ ì •ìƒ ì‘ë™
- [ ] ì¸í„°ë„·/TV ë‹¨ì í™•ì¸
- [ ] í™˜ê¸°ì‹œì„¤ ì‘ë™ ìƒíƒœ

#### ìˆ˜ë„ ë° ë°°ê´€
- [ ] ìˆ˜ì•• ë° ì˜¨ìˆ˜ ê³µê¸‰ ìƒíƒœ
- [ ] ë°°ìˆ˜ ìƒíƒœ ë° ëˆ„ìˆ˜ í™•ì¸
- [ ] í™”ì¥ì‹¤ ë° ìš•ì‹¤ ì‹œì„¤
- [ ] ì£¼ë°© ì‹±í¬ëŒ€ ë° ìˆ˜ì „ ì‘ë™

## ğŸ“‹ ì…ì£¼ ë‹¹ì¼ ìˆœì„œ

### 1. ì„œë¥˜ ì œì¶œ ë° í™•ì¸
1. **ì…ì£¼ì‹ ê³ ì„œ** ì‘ì„± ë° ì œì¶œ
2. **ê´€ë¦¬ì‚¬ë¬´ì†Œ ë“±ë¡**: ì„¸ëŒ€ ì •ë³´ ë“±ë¡
3. **ì£¼ì°¨ì¥ ë“±ë¡**: ì°¨ëŸ‰ë²ˆí˜¸ ì‹ ê³ 
4. **ìš°í¸ë¬¼ ìˆ˜ë ¹**: ìš°í¸í•¨ ë²ˆí˜¸ í™•ì¸

### 2. ê°ì¢… ì‹ ì²­ ë° ë“±ë¡

#### ê´€ë¦¬ì‚¬ë¬´ì†Œ ì—…ë¬´
- ê´€ë¦¬ë¹„ ìë™ì´ì²´ ì‹ ì²­
- ë¬´ì¸íƒë°°í•¨ ì´ìš© ì‹ ì²­
- ë°©ë¬¸ì°¨ëŸ‰ ì‚¬ì „ë“±ë¡
- ê³µë™í˜„ê´€ ë¹„ë°€ë²ˆí˜¸/ì¹´ë“œí‚¤ ìˆ˜ë ¹

#### ìƒí™œ ì¸í”„ë¼ ì‹ ì²­
- **ì „ê¸°**: í•œêµ­ì „ë ¥ê³µì‚¬ (êµ­ë²ˆì—†ì´ 123)
- **ê°€ìŠ¤**: ì§€ì—­ ë„ì‹œê°€ìŠ¤ íšŒì‚¬
- **ìƒí•˜ìˆ˜ë„**: ì§€ìì²´ ìƒìˆ˜ë„ê³¼
- **ì¸í„°ë„·/TV**: í†µì‹ ì‚¬ ì„¤ì¹˜ ì˜ˆì•½

## ğŸ› ï¸ ì…ì£¼ ì´ˆê¸° í•„ìˆ˜ ì‘ì—…

### 1. ì•ˆì „ ì ê²€
- ê°€ìŠ¤ ì•ˆì „ì¥ì¹˜ ì‘ë™ í™•ì¸
- í™”ì¬ê°ì§€ê¸° ë°°í„°ë¦¬ í™•ì¸
- ë¹„ìƒêµ¬ ìœ„ì¹˜ íŒŒì•…
- ì†Œí™”ê¸° ìœ„ì¹˜ í™•ì¸

### 2. í™˜ê²½ ì„¤ì •
- ì‹¤ë‚´ í™˜ê¸° (ìƒˆì§‘ì¦í›„êµ° ì˜ˆë°©)
- ìŠµë„ ì¡°ì ˆ (ì ì • ìŠµë„ 40-60%)
- ì˜¨ë„ ì„¤ì • (ë‚œë°©/ëƒ‰ë°© ì‹œìŠ¤í…œ í™•ì¸)

### 3. ë³´ì•ˆ ì„¤ì •
- í˜„ê´€ë¬¸ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- ê³µë™í˜„ê´€ ì¶œì…ì¹´ë“œ ë“±ë¡
- CCTV ì‘ë™ í™•ì¸
- ë°©ë²”ì°½ ì„¤ì¹˜ (1ì¸µ, ë°˜ì§€í•˜)

## ğŸ“ ê¸´ê¸‰ìƒí™© ëŒ€ì‘

### ë¹„ìƒì—°ë½ì²˜
- **ê´€ë¦¬ì‚¬ë¬´ì†Œ**: [ë‹¨ì§€ë³„ ë²ˆí˜¸]
- **ê°€ìŠ¤ ì‘ê¸‰ì„¼í„°**: êµ­ë²ˆì—†ì´ 030-9119
- **ì „ê¸° ê³ ì¥ì‹ ê³ **: êµ­ë²ˆì—†ì´ 123
- **ìƒìˆ˜ë„ ê³ ì¥ì‹ ê³ **: [ì§€ìì²´ë³„ ë²ˆí˜¸]

### ì‘ê¸‰ìƒí™© í–‰ë™ìš”ë ¹
1. **í™”ì¬ ë°œìƒ ì‹œ**: 119 ì‹ ê³  â†’ ëŒ€í”¼ â†’ ê´€ë¦¬ì†Œ ì—°ë½
2. **ê°€ìŠ¤ ëˆ„ì¶œ ì‹œ**: í™˜ê¸° â†’ ê°€ìŠ¤ë°¸ë¸Œ ì°¨ë‹¨ â†’ ì „ê¸°ì°¨ë‹¨ â†’ ëŒ€í”¼
3. **ì •ì „ ì‹œ**: ê´€ë¦¬ì†Œ ì—°ë½ â†’ í•œì „ ì‹ ê³ 
4. **ë‹¨ìˆ˜ ì‹œ**: ê´€ë¦¬ì†Œ í™•ì¸ â†’ ìƒìˆ˜ë„ ì‚¬ì—…ì†Œ ì—°ë½

## ğŸ’¡ ì…ì£¼ íŒ

### ë¹„ìš© ì ˆì•½ ë°©ë²•
- ì´ì‚¬ì—…ì²´ ì—¬ëŸ¬ ê³³ ê²¬ì  ë¹„êµ
- í¬ì¥ì´ì‚¬ vs ë°˜í¬ì¥ì´ì‚¬ ì„ íƒ
- ì…ì£¼ ì„±ìˆ˜ê¸° í”¼í•˜ê¸° (3, 12ì›”)

### ìƒí™œ í¸ì˜ í–¥ìƒ
- ë™ë³„ ì»¤ë®¤ë‹ˆí‹° ê°€ì…
- ì£¼ë³€ ìƒê¶Œ ë° êµí†µí¸ íŒŒì•…
- ìƒí™œí¸ì˜ì‹œì„¤(ë³‘ì›, í•™êµ ë“±) ìœ„ì¹˜ í™•ì¸

*ì…ì£¼ëŠ” ìƒˆë¡œìš´ ì‹œì‘ì…ë‹ˆë‹¤. ê¼¼ê¼¼í•œ ì¤€ë¹„ë¡œ ì¾Œì í•œ ì£¼ê±°ìƒí™œì„ ì‹œì‘í•˜ì„¸ìš”!*""",
                "tags": ["ì‹ ì¶•ì•„íŒŒíŠ¸", "ì…ì£¼ì¤€ë¹„", "ì²´í¬ë¦¬ìŠ¤íŠ¸"],
                "data_source": "í•œêµ­ì£¼íƒê´€ë¦¬ê³µë‹¨, ì…ì£¼ë¯¼ ê°€ì´ë“œ"
            },
            {
                "title": "ì•„íŒŒíŠ¸ ì´ì‚¬ ì¤€ë¹„ ë‹¨ê³„ë³„ ê°€ì´ë“œ",
                "content": """# ì•„íŒŒíŠ¸ ì´ì‚¬ ì¤€ë¹„ ë‹¨ê³„ë³„ ê°€ì´ë“œ

## ğŸ“… ì´ì‚¬ 2ê°œì›” ì „ ì¤€ë¹„ì‚¬í•­

### ì´ì‚¬ì—…ì²´ ì„ ì •
- **ê²¬ì  ë¹„êµ**: ìµœì†Œ 3ê³³ ì´ìƒ ê²¬ì ì„œ ìš”ì²­
- **ì—…ì²´ í™•ì¸**: ì‚¬ì—…ìë“±ë¡ì¦, ë³´í—˜ê°€ì… ì—¬ë¶€ í™•ì¸
- **í›„ê¸° ê²€í† **: ì˜¨ë¼ì¸ í›„ê¸° ë° ì¶”ì²œì—…ì²´ ì •ë³´ ìˆ˜ì§‘

### ì´ì‚¬ ì¼ì • ê²°ì •
- **ì„±ìˆ˜ê¸° í”¼í•˜ê¸°**: 3ì›”, 7-8ì›”, 12ì›” í”¼í•˜ê¸°
- **ìš”ì¼ ì„ íƒ**: ì£¼ì¤‘ì´ ì£¼ë§ë³´ë‹¤ ì €ë ´
- **ì‹œê°„ëŒ€**: ì˜¤ì „ ì´ì‚¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ìœ ë¦¬

## ğŸ“‹ ì´ì‚¬ 1ê°œì›” ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. ê´€ê³µì„œ ì—…ë¬´
- [ ] ì „ì…ì‹ ê³  (ì´ì‚¬ í›„ 14ì¼ ì´ë‚´)
- [ ] ìë™ì°¨ ë“±ë¡ ë³€ê²½
- [ ] ê±´ê°•ë³´í—˜ ì£¼ì†Œ ë³€ê²½
- [ ] êµ­ë¯¼ì—°ê¸ˆ ì£¼ì†Œ ë³€ê²½

### 2. ê¸ˆìœµê¸°ê´€ ì—…ë¬´
- [ ] ì€í–‰ ì£¼ì†Œ ë³€ê²½
- [ ] ì‹ ìš©ì¹´ë“œ ì£¼ì†Œ ë³€ê²½
- [ ] ë³´í—˜ ì£¼ì†Œ ë³€ê²½
- [ ] ì¦ê¶Œê³„ì¢Œ ì£¼ì†Œ ë³€ê²½

### 3. ìƒí™œì„œë¹„ìŠ¤ ë³€ê²½
- [ ] ì¸í„°ë„·/ì¼€ì´ë¸”TV ì´ì „ ì‹ ì²­
- [ ] íœ´ëŒ€í° ì£¼ì†Œ ë³€ê²½
- [ ] ìš°í¸ë¬¼ ì´ì „ì„œë¹„ìŠ¤ ì‹ ì²­
- [ ] íƒë°°ì—…ì²´ ì£¼ì†Œ ë³€ê²½

## ğŸ“¦ ì´ì‚¬ 2ì£¼ ì „ í¬ì¥ ì¤€ë¹„

### í¬ì¥ ì›ì¹™
1. **ë¬´ê±°ìš´ ê²ƒì€ ì‘ì€ ìƒìì—**
2. **ê°€ë²¼ìš´ ê²ƒì€ í° ìƒìì—**
3. **ê¹¨ì§€ê¸° ì‰¬ìš´ ê²ƒì€ ë³„ë„ í¬ì¥**
4. **ì¦‰ì‹œ í•„ìš”í•œ ê²ƒì€ ë”°ë¡œ ë³´ê´€**

### í¬ì¥ ìˆœì„œ
1. **ê³„ì ˆìš©í’ˆ**: ë¹„ì‹œì¦Œ ì˜ë¥˜, ì´ë¶ˆ ë“±
2. **ì¥ì‹í’ˆ**: ì•¡ì, ì†Œí’ˆ, ì±… ë“±
3. **ì£¼ë°©ìš©í’ˆ**: ê·¸ë¦‡, ì¡°ë¦¬ë„êµ¬ (ì¼ë¶€ ë‚¨ê²¨ë‘ê¸°)
4. **ìƒí™œìš©í’ˆ**: ë§ˆì§€ë§‰ì— í¬ì¥

### í¬ì¥ì¬ ì¤€ë¹„
- **ê³¨íŒì§€ ìƒì**: ë‹¤ì–‘í•œ í¬ê¸° ì¤€ë¹„
- **ë½ë½ì´**: ê¹¨ì§€ê¸° ì‰¬ìš´ ë¬¼ê±´ìš©
- **ì‹ ë¬¸ì§€**: ë¹ˆ ê³µê°„ ë©”ìš°ê¸°ìš©
- **í…Œì´í”„**: ë°•ìŠ¤í…Œì´í”„, í¬ì¥í…Œì´í”„
- **ë§¤ì§**: ë‚´ìš©ë¬¼ í‘œì‹œìš©

## ğŸš› ì´ì‚¬ ë‹¹ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì´ì‚¬ ì „ í™•ì¸ì‚¬í•­
- [ ] ì „ê¸°/ê°€ìŠ¤/ìˆ˜ë„ ì°¨ë‹¨
- [ ] ëƒ‰ì¥ê³  ë¬¼ë¹¼ê¸° (ì „ë‚  ì‹¤ì‹œ)
- [ ] ì„¸íƒê¸° ë¬¼ë¹¼ê¸°
- [ ] ê·€ì¤‘í’ˆ ë³„ë„ ë³´ê´€
- [ ] ì²­ì†Œìš©í’ˆ ì¤€ë¹„

### ì´ì‚¬ì—…ì²´ì™€ í™•ì¸ì‚¬í•­
- [ ] ìš´ì†¡ë³´í—˜ ê°€ì… ì—¬ë¶€
- [ ] íŒŒì† ì‹œ ë°°ìƒ ê¸°ì¤€
- [ ] ì¶”ê°€ ë¹„ìš© ë°œìƒ ì¡°ê±´
- [ ] ì‘ì—… ì™„ë£Œ ì˜ˆìƒ ì‹œê°„

### ì‹ ê±°ì£¼ì§€ ì¤€ë¹„
- [ ] ê´€ë¦¬ì‚¬ë¬´ì†Œ ì…ì£¼ ì‹ ê³ 
- [ ] ì „ê¸°/ê°€ìŠ¤/ìˆ˜ë„ ê°œí†µ ì‹ ì²­
- [ ] ì—˜ë¦¬ë² ì´í„° ì‚¬ìš© ì‹ ì²­
- [ ] ì£¼ì°¨ê³µê°„ í™•ë³´

## ğŸ  ì´ì‚¬ í›„ ì •ì°© ê°€ì´ë“œ

### ì¦‰ì‹œ í•´ì•¼ í•  ì¼
1. **ì „ì…ì‹ ê³ **: ì´ì‚¬ í›„ 14ì¼ ì´ë‚´ í•„ìˆ˜
2. **ê³µê³¼ê¸ˆ ì •ì‚°**: ì´ì „ ê±°ì£¼ì§€ ìµœì¢… ê³ ì§€ì„œ í™•ì¸
3. **ìƒí•„í’ˆ êµ¬ì…**: ë‹¹ì¼ í•„ìš”í•œ ìµœì†Œí•œì˜ ë¬¼í’ˆ
4. **ì•ˆì „ì ê²€**: ê°€ìŠ¤, ì „ê¸°, ì†Œí™”ê¸° ë“±

### 1ì£¼ì¼ ë‚´ ì™„ë£Œì‚¬í•­
- ì¸í„°ë„·/TV ì„¤ì¹˜
- ë™ë„¤ ìƒê¶Œ íŒŒì•…
- ì˜ë£Œê¸°ê´€ í™•ì¸
- ëŒ€ì¤‘êµí†µ ë…¸ì„  íŒŒì•…

### 1ê°œì›” ë‚´ ì •ì°© ê³¼ì •
- ì´ì›ƒ ì¸ì‚¬
- ì£¼ë¯¼ì„¼í„° ì„œë¹„ìŠ¤ ì•ˆë‚´ ë°›ê¸°
- ìë…€ ì „í•™ ìˆ˜ì† (í•´ë‹¹ì‹œ)
- ìƒí™œ ë™ì„  ìµœì í™”

## ğŸ’° ì´ì‚¬ ë¹„ìš© ì ˆì•½ íŒ

### ê²¬ì  ë°›ì„ ë•Œ
- ì •í™•í•œ ë¬¼í’ˆëŸ‰ ì œì‹œ
- í¬ì¥ì´ì‚¬ vs ë°˜í¬ì¥ì´ì‚¬ ë¹„êµ
- í‰ì¼/ì£¼ë§ ìš”ê¸ˆì°¨ì´ í™•ì¸
- ê±°ë¦¬ë³„ ì¶”ê°€ìš”ê¸ˆ í™•ì¸

### ì§ì ‘ í•  ìˆ˜ ìˆëŠ” ì¼
- ì†Œí˜• ë¬¼í’ˆ ì§ì ‘ ìš´ë°˜
- ê¸°ë³¸ ì²­ì†Œ ì‘ì—…
- í¬ì¥ ì¼ë¶€ ì§ì ‘ ì§„í–‰
- ê·€ì¤‘í’ˆ ì§ì ‘ ìš´ë°˜

*ê³„íšì ì¸ ì¤€ë¹„ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ ì—†ëŠ” ì´ì‚¬ë¥¼ ì™„ì„±í•˜ì„¸ìš”!*""",
                "tags": ["ì´ì‚¬ì¤€ë¹„", "ì²´í¬ë¦¬ìŠ¤íŠ¸", "ì´ì‚¬íŒ"],
                "data_source": "í•œêµ­ì†Œë¹„ìì›, ì´ì‚¬ê°€ì´ë“œ"
            }
        ]
    },
    "investment_trend": {
        "label": "íˆ¬ìë™í–¥",
        "templates": [
            {
                "title": "2025ë…„ ë¶€ë™ì‚° íˆ¬ì íŠ¸ë Œë“œ ì „ë§",
                "content": """# 2025ë…„ ë¶€ë™ì‚° íˆ¬ì íŠ¸ë Œë“œ ì „ë§

## ğŸ¯ 2025ë…„ íˆ¬ì í‚¤ì›Œë“œ

### 1. ì¸í”„ë¼ ìˆ˜í˜œì§€ì—­
**êµí†µë§ í™•ì¶© ì˜ˆì •ì§€ì—­**
- GTX-{line}ì„  ê°œí†µ ì˜ˆì • ì—­ì„¸ê¶Œ
- ì§€í•˜ì²  ì—°ì¥ êµ¬ê°„ (9í˜¸ì„  4ë‹¨ê³„ ë“±)
- ê´‘ì—­ê¸‰í–‰ì² ë„(GTX) í™˜ìŠ¹ì—­ ì£¼ë³€

**ê°œë°œì‚¬ì—… ì§„í–‰ì§€ì—­**
- 3ê¸° ì‹ ë„ì‹œ (ê³¼ì²œ, ë‚¨ì–‘ì£¼, ì¸ì²œ ë“±)
- ì—­ì„¸ê¶Œ ê°œë°œì‚¬ì—… (ì²­ëŸ‰ë¦¬, ìš©ì‚° ë“±)
- ì‚°ì—…ë‹¨ì§€ ì´ì „ ë¶€ì§€ ê°œë°œ

### 2. ìƒˆë¡œìš´ íˆ¬ì ê´€ì 
**ESG ë¶€ë™ì‚°**
- ì¹œí™˜ê²½ ê±´ì¶•ë¬¼ ì¸ì¦ (LEED, BREEAM ë“±)
- ì—ë„ˆì§€ íš¨ìœ¨ ë“±ê¸‰ ìš°ìˆ˜ ê±´ë¬¼
- ìŠ¤ë§ˆíŠ¸í™ˆ ì‹œìŠ¤í…œ ë„ì… ë‹¨ì§€

**ë””ì§€í„¸ ì „í™˜**
- ë¹„ëŒ€ë©´ ì„œë¹„ìŠ¤ ì¸í”„ë¼
- ìŠ¤ë§ˆíŠ¸ í™ˆì¼€ì–´ ì‹œì„¤
- ê³µìœ ê³µê°„ ë° ì½”ì›Œí‚¹ ìŠ¤í˜ì´ìŠ¤

## ğŸ“Š íˆ¬ì ìœ í˜•ë³„ ì „ë§

### 1. ì£¼ê±°ìš© ë¶€ë™ì‚°

#### ì•„íŒŒíŠ¸
- **ì‹ ì¶•**: ë¶„ì–‘ê°€ ìƒí•œì œë¡œ ì¸í•œ ì œí•œì  ê³µê¸‰
- **ì¬ê±´ì¶•**: ì•ˆì „ì§„ë‹¨ í†µê³¼ ë‹¨ì§€ ì¤‘ì‹¬ ìƒìŠ¹
- **ì¬ê°œë°œ**: ë„ì‹¬ ì •ë¹„ì‚¬ì—… ìˆ˜í˜œ ì˜ˆìƒ

#### ì˜¤í”¼ìŠ¤í…”/ì›ë£¸
- 1ì¸ ê°€êµ¬ ì¦ê°€ë¡œ ì†Œí˜• í‰í˜• ìˆ˜ìš” ì§€ì†
- ëŒ€í•™ê°€ ë° ì§ì¥ ë°€ì§‘ì§€ì—­ ì„ í˜¸
- ì„ëŒ€ìˆ˜ìµë¥  {rental_yield}% ë‚´ì™¸ ì˜ˆìƒ

### 2. ìƒì—…ìš© ë¶€ë™ì‚°

#### ê·¼ë¦°ìƒê°€
- ë°°ë‹¬ë¬¸í™” í™•ì‚°ìœ¼ë¡œ ì…ì§€ ì¤‘ìš”ì„± ì¦ëŒ€
- ë³µí•©ìš©ë„ ê±´ë¬¼ ì„ í˜¸ ì¦ê°€
- ì„ëŒ€ë£Œ ìˆ˜ì¤€: ì „ë…„ ëŒ€ë¹„ {commercial_change}% ë³€ë™

#### ì˜¤í”¼ìŠ¤
- ì¬íƒê·¼ë¬´ í™•ì‚°ìœ¼ë¡œ ìˆ˜ìš” êµ¬ì¡° ë³€í™”
- ì¤‘ì†Œí˜• í‰í˜• ì„ í˜¸ë„ ì¦ê°€
- ìŠ¤ë§ˆíŠ¸ ì˜¤í”¼ìŠ¤ ì‹œì„¤ ì¤‘ìš”ì„± ëŒ€ë‘

## ğŸ’¡ íˆ¬ì ì „ëµë³„ ê°€ì´ë“œ

### 1. ì•ˆì •í˜• íˆ¬ì
**íˆ¬ì ì„±í–¥**: ì›ê¸ˆ ë³´ì „ ì¤‘ì‹œ, ì•ˆì •ì  ìˆ˜ìµ ì¶”êµ¬

**ì¶”ì²œ ì „ëµ**:
- ì—­ì„¸ê¶Œ ë‚´ ì¤‘ëŒ€í˜• ì•„íŒŒíŠ¸
- í•™êµ° ìš°ìˆ˜ ì§€ì—­ ì£¼íƒ
- ì„ëŒ€ìˆ˜ìµë¥  {stable_yield}% ì´ìƒ ë¬¼ê±´

**ì£¼ì˜ì‚¬í•­**:
- ê³¼ë„í•œ ë ˆë²„ë¦¬ì§€ í”¼í•˜ê¸°
- ìœ ì§€ê´€ë¦¬ë¹„ ì‚¬ì „ ê³„ì‚°
- ì¥ê¸°ë³´ìœ  ê³„íš ìˆ˜ë¦½

### 2. ì„±ì¥í˜• íˆ¬ì
**íˆ¬ì ì„±í–¥**: ì¤‘ê°„ ìœ„í—˜ ê°ìˆ˜, ìë³¸ì´ë“ ì¶”êµ¬

**ì¶”ì²œ ì „ëµ**:
- ì¸í”„ë¼ ê°œë°œ ì˜ˆì • ì§€ì—­
- ì¬ê°œë°œ/ì¬ê±´ì¶• ê°€ëŠ¥ì„± ë†’ì€ êµ¬ì—­
- ì‹ í¥ ì£¼ê±°ì§€ì—­ (3ê¸° ì‹ ë„ì‹œ ë“±)

**ì£¼ì˜ì‚¬í•­**:
- ê°œë°œ ê³„íš ë³€ê²½ ë¦¬ìŠ¤í¬
- ì¸í—ˆê°€ ì§€ì—° ê°€ëŠ¥ì„±
- ì‹œì¥ íƒ€ì´ë° ì¤‘ìš”

### 3. ì ê·¹í˜• íˆ¬ì
**íˆ¬ì ì„±í–¥**: ë†’ì€ ìœ„í—˜ ê°ìˆ˜, ê³ ìˆ˜ìµ ì¶”êµ¬

**ì¶”ì²œ ì „ëµ**:
- ê²½ë§¤/ê³µë§¤ ë¬¼ê±´
- ìƒì—…ìš© ë¶€ë™ì‚°
- ê°œë°œì‚¬ì—… ì°¸ì—¬ (ë¦¬ì¸ , í€ë“œ ë“±)

**ì£¼ì˜ì‚¬í•­**:
- ì¶©ë¶„í•œ ì‹œì¥ ì¡°ì‚¬ í•„ìˆ˜
- ì „ë¬¸ê°€ ìë¬¸ í™œìš©
- ë¶„ì‚°íˆ¬ì ì›ì¹™ ì¤€ìˆ˜

## âš ï¸ 2025ë…„ íˆ¬ì ë¦¬ìŠ¤í¬ ìš”ì¸

### ì •ì±… ë¦¬ìŠ¤í¬
- ë¶€ë™ì‚° ì„¸ì œ ë³€í™”
- ëŒ€ì¶œ ê·œì œ ê°•í™”/ì™„í™”
- ê³µê¸‰ ì •ì±… ë³€ë™

### ì‹œì¥ ë¦¬ìŠ¤í¬
- ê¸ˆë¦¬ ë³€ë™ì„± í™•ëŒ€
- ê²½ê¸° ë‘”í™” ê°€ëŠ¥ì„±
- ê³µê¸‰ ë¬¼ëŸ‰ ì¦ê°€

### ì™¸ë¶€ ë¦¬ìŠ¤í¬
- ê¸€ë¡œë²Œ ê²½ì œ ë¶ˆí™•ì‹¤ì„±
- í™˜ìœ¨ ë³€ë™ ì˜í–¥
- ì§€ì •í•™ì  ë¦¬ìŠ¤í¬

## ğŸ“ˆ íˆ¬ì ì„±ê³µì„ ìœ„í•œ ì²´í¬í¬ì¸íŠ¸

### 1. ì‚¬ì „ ì¤€ë¹„
- [ ] íˆ¬ì ëª©í‘œ ëª…í™•í™”
- [ ] ìê¸ˆ ì¡°ë‹¬ ê³„íš ìˆ˜ë¦½
- [ ] ì„¸ê¸ˆ ë¶€ë‹´ ì‚¬ì „ ê³„ì‚°
- [ ] ì‹œì¥ ë™í–¥ ì§€ì† ëª¨ë‹ˆí„°ë§

### 2. ë¬¼ê±´ ì„ ì •
- [ ] ì…ì§€ ë¶„ì„ (êµí†µ, ìƒê¶Œ, êµìœ¡)
- [ ] ì‹œì„¤ í˜„í™© ì ê²€
- [ ] ë²•ì  ì œì•½ì‚¬í•­ í™•ì¸
- [ ] ìˆ˜ìµì„± ë¶„ì„

### 3. ê±°ë˜ ê³¼ì •
- [ ] ê³„ì•½ ì¡°ê±´ ë©´ë°€ ê²€í† 
- [ ] ì „ë¬¸ê°€ ìë¬¸ í™œìš©
- [ ] ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë°©ì•ˆ ìˆ˜ë¦½
- [ ] ì¶œêµ¬ ì „ëµ ê³„íš

*íˆ¬ìëŠ” ì‹ ì¤‘í•˜ê²Œ, ì •ë³´ëŠ” ì •í™•í•˜ê²Œ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.*""",
                "tags": ["ë¶€ë™ì‚°íˆ¬ì", "íˆ¬ìì „ë§", "íˆ¬ìíŠ¸ë Œë“œ"],
                "data_source": "í•œêµ­ë¶€ë™ì‚°ì›, íˆ¬ìë¶„ì„ê¸°ê´€"
            }
        ]
    }
}

async def create_test_user(auth_service: AuthService, email: str, handle: str, name: str) -> User:
    """Create a test user for generating property info."""
    user_data = UserCreate(
        email=email,
        user_handle=handle,
        name=name,
        display_name=name,
        password="TestPassword123!"
    )
    
    try:
        # Check if user already exists
        existing_user = await auth_service.user_repository.get_by_email(email)
        if existing_user:
            print(f"âœ… User {email} already exists, using existing user")
            return existing_user
    except:
        pass
    
    try:
        user = await auth_service.register_user(user_data)
        print(f"âœ… Created test user: {email}")
        return user
    except Exception as e:
        print(f"âŒ Failed to create user {email}: {str(e)}")
        raise

def generate_property_info_data(category: str, template: Dict[str, Any]) -> Dict[str, Any]:
    """Generate a single property info data structure."""
    
    # Template ë³€ìˆ˜ ì±„ìš°ê¸°
    if category == "market_analysis":
        areas = ["ê°•ë‚¨êµ¬", "ì„œì´ˆêµ¬", "ì†¡íŒŒêµ¬", "ë¶„ë‹¹êµ¬", "íŒêµ", "ìš©ì‚°êµ¬", "ë§ˆí¬êµ¬"]
        area = random.choice(areas)
        change = random.randint(-5, 8)
        direction = "ìƒìŠ¹" if change > 0 else "í•˜ë½" if change < 0 else "ë³´í•©"
        volume_change = random.randint(-15, 20)
        volume_direction = "ì¦ê°€" if volume_change > 0 else "ê°ì†Œ" if volume_change < 0 else "ë³´í•©"
        
        content = template["content"].format(
            area=area,
            change=abs(change),
            direction=direction,
            volume_change=abs(volume_change),
            volume_direction=volume_direction,
            new_supply=random.randint(500, 2000),
            completion=random.randint(2025, 2027),
            total_completion=random.randint(1000, 5000),
            quarter=random.choice(["1", "2", "3", "4"]),
            seoul_volume=random.randint(3000, 8000),
            seoul_change=random.randint(-10, 15),
            gyeonggi_volume=random.randint(5000, 12000),
            gyeonggi_change=random.randint(-8, 12),
            incheon_volume=random.randint(1000, 3000),
            incheon_change=random.randint(-12, 10),
            small_price=random.randint(30000, 80000),
            small_change=random.randint(-3, 8),
            medium_price=random.randint(60000, 120000),
            medium_change=random.randint(-5, 10),
            large_price=random.randint(100000, 200000),
            large_change=random.randint(-3, 12),
            report_date=datetime.now().strftime("%Yë…„ %mì›” %dì¼")
        )
        title = template["title"].format(area=area, quarter=f"{random.choice(['1', '2', '3', '4'])}ë¶„ê¸°")
        
    elif category == "legal_info":
        content = template["content"].format(
            old_rate=random.choice([8, 10, 12]),
            new_rate=random.choice([10, 12, 15]),
            short_rate=random.choice([40, 50, 60]),
            medium_rate=random.choice([30, 40, 50]),
            long_rate=random.choice([6, 10, 20]),
            rent_limit=random.choice([4, 5, 6]),
            renewal_years=2,
            new_renewal_years=4,
            update_date=datetime.now().strftime("%Yë…„ %mì›” %dì¼")
        )
        title = template["title"]
        
    elif category == "investment_trend":
        content = template["content"].format(
            line=random.choice(["A", "B", "C"]),
            rental_yield=random.uniform(3.5, 5.5),
            commercial_change=random.randint(-5, 10),
            stable_yield=random.uniform(4.0, 6.0)
        )
        title = template["title"]
        
    else:
        content = template["content"]
        title = template["title"]
    
    # Generate view counts and engagement metrics
    views_count = random.randint(500, 5000)
    likes_count = random.randint(20, int(views_count * 0.1))
    saves_count = random.randint(10, int(views_count * 0.05))
    
    # Generate creation date (within last 3 months)
    days_ago = random.randint(1, 90)
    created_at = datetime.now() - timedelta(days=days_ago)
    
    return {
        "title": title,
        "content": content,
        "service": "residential_community",
        "metadata": {
            "type": "property_information",
            "category": category,
            "tags": template["tags"],
            "summary": title,  # ì œëª©ì„ ìš”ì•½ìœ¼ë¡œ ì‚¬ìš©
            "data_source": template["data_source"],
            "content_type": "ai_article",
            "views_count": views_count,
            "likes_count": likes_count,
            "saves_count": saves_count,
            "visibility": "public",
            "editor_type": "markdown"
        }
    }

async def create_property_info_posts(posts_service: PostsService, user: User, num_posts: int = 20) -> List[Post]:
    """Create multiple property info posts."""
    created_posts = []
    
    # ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê³ ë¥´ê²Œ ë¶„ë°°
    categories = list(PROPERTY_INFO_CATEGORIES.keys())
    posts_per_category = num_posts // len(categories)
    
    for category_key in categories:
        category_data = PROPERTY_INFO_CATEGORIES[category_key]
        
        for i in range(posts_per_category):
            # í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ í…œí”Œë¦¿ ì¤‘ ëœë¤ ì„ íƒ
            template = random.choice(category_data["templates"])
            
            # ë°ì´í„° ìƒì„±
            post_data = generate_property_info_data(category_key, template)
            
            # Convert to PostCreate format
            from nadle_backend.models.core import PostCreate, PostMetadata
            
            post_metadata = PostMetadata(**post_data["metadata"])
            post_create = PostCreate(
                title=post_data["title"],
                content=post_data["content"],
                service=post_data["service"],
                metadata=post_metadata
            )
            
            try:
                post = await posts_service.create_post(post_create, user)
                created_posts.append(post)
                print(f"âœ… Created property info {len(created_posts)}/{num_posts}: {post.title[:50]}...")
            except Exception as e:
                print(f"âŒ Failed to create property info: {str(e)}")
                continue
    
    return created_posts

async def verify_created_posts(posts_service: PostsService) -> Dict[str, Any]:
    """Verify that property info posts were created successfully."""
    try:
        # Query for property information posts
        result = await posts_service.list_posts(
            page=1,
            page_size=50,
            metadata_type="property_information"
        )
        
        posts = result.get("items", [])
        print(f"\nğŸ“Š Verification Results:")
        print(f"   Total property info posts created: {len(posts)}")
        
        # Analyze by category
        categories = {}
        
        for post in posts:
            metadata = post.get("metadata", {})
            category = metadata.get("category", "Unknown")
            categories[category] = categories.get(category, 0) + 1
        
        print(f"   Categories: {dict(categories)}")
        
        return {
            "total_posts": len(posts),
            "categories": categories,
            "posts": posts
        }
        
    except Exception as e:
        print(f"âŒ Verification failed: {str(e)}")
        return {"error": str(e)}

async def main():
    """Main function to generate property info test data."""
    print("ğŸš€ Property Information Test Data Generator")
    print("=" * 60)
    
    try:
        # Initialize database connection
        print("1. Connecting to database...")
        await database.connect()
        
        # Initialize services
        auth_service = AuthService()
        posts_service = PostsService()
        
        # Create test user
        print("2. Creating test user...")
        test_user = await create_test_user(
            auth_service, 
            "property_info_admin@example.com", 
            "property_admin", 
            "Property Info Admin"
        )
        
        # Generate property info posts
        print("3. Generating property information posts...")
        num_posts = 20  # Generate 20 property info posts
        created_posts = await create_property_info_posts(posts_service, test_user, num_posts)
        
        print(f"\nâœ… Successfully created {len(created_posts)} property info posts!")
        
        # Verify creation
        print("4. Verifying created posts...")
        verification = await verify_created_posts(posts_service)
        
        # Generate summary report
        print("\n" + "=" * 60)
        print("ğŸ“‹ PROPERTY INFO GENERATION SUMMARY")
        print("=" * 60)
        print(f"âœ… Total posts created: {len(created_posts)}")
        print(f"âœ… Database connection: Success")
        print(f"âœ… Test user created: {test_user.email}")
        print(f"âœ… Verification: {verification.get('total_posts', 0)} posts found")
        
        # Show sample posts
        if created_posts:
            print("\nğŸ¯ Sample Property Info Posts:")
            for i, post in enumerate(created_posts[:3]):
                metadata = post.metadata
                print(f"\n{i+1}. {post.title}")
                print(f"   Category: {metadata.category}")
                print(f"   Tags: {', '.join(metadata.tags)}")
                print(f"   Data Source: {metadata.data_source}")
        
        print("\n" + "=" * 60)
        print("ğŸ‰ Property Information Test Data Generation Complete!")
        print("=" * 60)
        
    except Exception as e:
        print(f"\nâŒ Error during property info generation: {str(e)}")
        import traceback
        traceback.print_exc()
    finally:
        # Close database connection
        try:
            await database.disconnect()
            print("âœ… Database connection closed")
        except:
            pass

if __name__ == "__main__":
    asyncio.run(main())