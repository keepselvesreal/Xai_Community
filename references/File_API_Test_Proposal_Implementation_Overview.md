# íŒŒì¼ API í…ŒìŠ¤íŠ¸ ì½”ë“œ ì œì•ˆ êµ¬í˜„ ê°œìš”

## ğŸ“‹ ë¬¸ì„œ ëª©ì°¨

1. [í˜„ì¬ ê¸°ëŠ¥ ê°œë°œê³¼ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆê³¼ í•¨ìˆ˜ ê´€ê³„](#1-í˜„ì¬-ê¸°ëŠ¥-ê°œë°œê³¼-ê´€ë ¨ëœ-í…ŒìŠ¤íŠ¸-ëª¨ë“ˆê³¼-í•¨ìˆ˜-ê´€ê³„)
2. [ê¸°ëŠ¥ í”Œë¡œìš°ì™€ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ë§¤í•‘](#2-ê¸°ëŠ¥-í”Œë¡œìš°ì™€-í…ŒìŠ¤íŠ¸-í•¨ìˆ˜-ë§¤í•‘)
3. [ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë³„ í…ŒìŠ¤íŠ¸ ë§¤í•‘](#3-ì‚¬ìš©ì-ì‹œë‚˜ë¦¬ì˜¤ë³„-í…ŒìŠ¤íŠ¸-ë§¤í•‘)
4. [êµ¬í˜„ ìˆœì„œ ì œì•ˆ](#4-êµ¬í˜„-ìˆœì„œ-ì œì•ˆ)

---

## 1. í˜„ì¬ ê¸°ëŠ¥ ê°œë°œê³¼ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆê³¼ í•¨ìˆ˜ ê´€ê³„

### í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ êµ¬ì¡° (ì˜ì¡´ì„± ê´€ê³„)

```
tests/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ test_file_validator.py     # ğŸ”µ ê¸°ë°˜ (ì˜ì¡´ì„± ì—†ìŒ)
â”‚   â”‚   â”œâ”€â”€ test_validate_file_type()
â”‚   â”‚   â”œâ”€â”€ test_validate_file_size()
â”‚   â”‚   â”œâ”€â”€ test_validate_file_extension()
â”‚   â”‚   â””â”€â”€ test_validate_file_signature()
â”‚   â”œâ”€â”€ test_file_storage.py       # ğŸŸ¡ ì¡°í•© (validator ì˜ì¡´)
â”‚   â”‚   â”œâ”€â”€ test_generate_file_path()
â”‚   â”‚   â”œâ”€â”€ test_save_file_to_disk()
â”‚   â”‚   â”œâ”€â”€ test_create_directory_structure()
â”‚   â”‚   â””â”€â”€ test_handle_storage_errors()
â”‚   â”œâ”€â”€ test_file_metadata.py      # ğŸ”µ ê¸°ë°˜ (ì˜ì¡´ì„± ì—†ìŒ)
â”‚   â”‚   â”œâ”€â”€ test_extract_file_metadata()
â”‚   â”‚   â”œâ”€â”€ test_create_file_document()
â”‚   â”‚   â””â”€â”€ test_generate_file_url()
â”‚   â””â”€â”€ test_file_repository.py    # ğŸŸ¡ ì¡°í•© (metadata ì˜ì¡´)
â”‚       â”œâ”€â”€ test_save_file_metadata()
â”‚       â”œâ”€â”€ test_find_file_by_id()
â”‚       â”œâ”€â”€ test_delete_file_record()
â”‚       â””â”€â”€ test_update_file_references()
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ test_file_upload_api.py    # ğŸ”´ í†µí•© (ëª¨ë“  ê¸°ëŠ¥ ì˜ì¡´)
â”‚   â”‚   â”œâ”€â”€ test_upload_endpoint_success()
â”‚   â”‚   â”œâ”€â”€ test_upload_with_validation()
â”‚   â”‚   â””â”€â”€ test_upload_error_handling()
â”‚   â”œâ”€â”€ test_file_retrieval_api.py # ğŸ”´ í†µí•© (storage + repository ì˜ì¡´)
â”‚   â”‚   â”œâ”€â”€ test_get_file_endpoint()
â”‚   â”‚   â”œâ”€â”€ test_get_file_info_endpoint()
â”‚   â”‚   â””â”€â”€ test_file_not_found_handling()
â”‚   â””â”€â”€ test_file_deletion_api.py  # ğŸ”´ í†µí•© (ëª¨ë“  ê¸°ëŠ¥ ì˜ì¡´)
â”‚       â”œâ”€â”€ test_delete_file_endpoint()
â”‚       â”œâ”€â”€ test_delete_with_cleanup()
â”‚       â””â”€â”€ test_delete_permission_check()
â””â”€â”€ contract/
    â””â”€â”€ test_file_api_contract.py  # ğŸŸ  ê³„ì•½ (API ì˜ì¡´)
        â”œâ”€â”€ test_upload_request_contract()
        â”œâ”€â”€ test_upload_response_contract()
        â”œâ”€â”€ test_error_response_contract()
        â””â”€â”€ test_file_endpoint_contract()
```

### ëª¨ë“ˆ ê°„ ê´€ê³„ ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ì˜ì¡´ì„± ê·¸ë˜í”„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚  ğŸ”µ ê¸°ë°˜ ê³„ì¸µ (ë…ë¦½ì )                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ test_file_      â”‚    â”‚ test_file_      â”‚                          â”‚
â”‚  â”‚ validator.py    â”‚    â”‚ metadata.py     â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚           â”‚                       â”‚                                  â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                   â–¼                                                  â”‚
â”‚  ğŸŸ¡ ì¡°í•© ê³„ì¸µ (ê¸°ë°˜ ê¸°ëŠ¥ í™œìš©)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ test_file_      â”‚    â”‚ test_file_      â”‚                          â”‚
â”‚  â”‚ storage.py      â”‚    â”‚ repository.py   â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚           â”‚                       â”‚                                  â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                   â–¼                                                  â”‚
â”‚  ğŸ”´ í†µí•© ê³„ì¸µ (ëª¨ë“  ê¸°ëŠ¥ í†µí•©)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ test_file_      â”‚    â”‚ test_file_      â”‚    â”‚ test_file_      â”‚    â”‚
â”‚  â”‚ upload_api.py   â”‚    â”‚ retrieval_api.pyâ”‚    â”‚ deletion_api.py â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                       â”‚                       â”‚          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â–¼                                          â”‚
â”‚  ğŸŸ  ê³„ì•½ ê³„ì¸µ (API ì¸í„°í˜ì´ìŠ¤)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚  â”‚ test_file_api_  â”‚                                                 â”‚
â”‚  â”‚ contract.py     â”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ê¸°ëŠ¥ í”Œë¡œìš°ì™€ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ë§¤í•‘

### íŒŒì¼ ì—…ë¡œë“œ í”Œë¡œìš° ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ íŒŒì¼ ì—…ë¡œë“œ í”Œë¡œìš° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚  ğŸ“¤ ì—…ë¡œë“œ ìš”ì²­ â”€â”€â†’ ğŸ” íŒŒì¼ ê²€ì¦ â”€â”€â†’ ğŸ’¾ íŒŒì¼ ì €ì¥ â”€â”€â†’ ğŸ“ ë©”íƒ€ë°ì´í„° ì €ì¥ â”€â”€â†’ ğŸ“¤ ì‘ë‹µ  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê° ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ë§¤í•‘

- **ğŸ“¤ ì—…ë¡œë“œ ìš”ì²­ ë‹¨ê³„**: 
  - `test_upload_request_contract()` - API ìš”ì²­ í˜•ì‹ ê²€ì¦
  - `test_multipart_form_parsing()` - ë©€í‹°íŒŒíŠ¸ ë°ì´í„° íŒŒì‹±
  - `test_authentication_check()` - ì‚¬ìš©ì ì¸ì¦ ì²˜ë¦¬

- **ğŸ” íŒŒì¼ ê²€ì¦ ë‹¨ê³„**: 
  - `test_validate_file_type()` - MIME íƒ€ì… ê²€ì¦
  - `test_validate_file_size()` - íŒŒì¼ í¬ê¸° ì œí•œ ê²€ì¦
  - `test_validate_file_extension()` - í™•ì¥ì ê²€ì¦
  - `test_validate_file_signature()` - íŒŒì¼ ì‹œê·¸ë‹ˆì²˜ ê²€ì¦

- **ğŸ’¾ íŒŒì¼ ì €ì¥ ë‹¨ê³„**: 
  - `test_generate_file_path()` - ì €ì¥ ê²½ë¡œ ìƒì„±
  - `test_save_file_to_disk()` - ë¬¼ë¦¬ì  íŒŒì¼ ì €ì¥
  - `test_create_directory_structure()` - ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
  - `test_handle_storage_errors()` - ì €ì¥ ì‹¤íŒ¨ ì²˜ë¦¬

- **ğŸ“ ë©”íƒ€ë°ì´í„° ì €ì¥ ë‹¨ê³„**: 
  - `test_extract_file_metadata()` - ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
  - `test_create_file_document()` - ë¬¸ì„œ ìƒì„±
  - `test_save_file_metadata()` - DB ì €ì¥
  - `test_generate_file_url()` - ì ‘ê·¼ URL ìƒì„±

- **ğŸ“¤ ì‘ë‹µ ë‹¨ê³„**: 
  - `test_upload_response_contract()` - API ì‘ë‹µ í˜•ì‹ ê²€ì¦
  - `test_error_response_contract()` - ì˜¤ë¥˜ ì‘ë‹µ ì²˜ë¦¬

### íŒŒì¼ ì¡°íšŒ í”Œë¡œìš° ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ íŒŒì¼ ì¡°íšŒ í”Œë¡œìš° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚  ğŸŒ ì¡°íšŒ ìš”ì²­ â”€â”€â†’ ğŸ” íŒŒì¼ ID ê²€ì¦ â”€â”€â†’ ğŸ“‚ íŒŒì¼ ê²€ìƒ‰ â”€â”€â†’ ğŸ“¤ íŒŒì¼ ë°˜í™˜      â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íŒŒì¼ ì‚­ì œ í”Œë¡œìš° ì‹œê°í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ íŒŒì¼ ì‚­ì œ í”Œë¡œìš° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚  ğŸ—‘ï¸ ì‚­ì œ ìš”ì²­ â”€â”€â†’ ğŸ” ê¶Œí•œ ê²€ì¦ â”€â”€â†’ ğŸ”— ì°¸ì¡° ì •ë¦¬ â”€â”€â†’ ğŸ’¾ íŒŒì¼ ì‚­ì œ â”€â”€â†’ ğŸ“¤ ì‘ë‹µ  â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í†µí•© í…ŒìŠ¤íŠ¸**
- `test_full_upload_flow()` - ì „ì²´ ì—…ë¡œë“œ í”Œë¡œìš° í†µí•© ê²€ì¦
- `test_file_lifecycle_workflow()` - ì—…ë¡œë“œâ†’ì¡°íšŒâ†’ì‚­ì œ ì „ì²´ ì›Œí¬í”Œë¡œìš°

---

## 3. ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë³„ í…ŒìŠ¤íŠ¸ ë§¤í•‘

### í˜„ì¬ êµ¬í˜„ ê¸°ëŠ¥ì˜ ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ â†’ í…ŒìŠ¤íŠ¸ ë§¤í•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  ğŸŒŸ ì£¼ ì‹œë‚˜ë¦¬ì˜¤ (Happy Path)                                â”‚
â”‚  "ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ì— ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í•˜ì—¬ ì—…ë¡œë“œ"                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì‹œë‚˜ë¦¬ì˜¤: ë¡œê·¸ì¸ â†’ íŒŒì¼ ì„ íƒ â†’ ì—…ë¡œë“œ â†’ ê²Œì‹œê¸€ ì‘ì„±       â”‚ â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸: test_validate_file_type()                      â”‚ â”‚
â”‚  â”‚        test_save_file_to_disk()                        â”‚ â”‚
â”‚  â”‚        test_upload_endpoint_success()                  â”‚ â”‚
â”‚  â”‚        test_upload_response_contract()                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  âš ï¸ ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤ (Error Cases)                             â”‚
â”‚  "ì˜ëª»ëœ íŒŒì¼ í˜•ì‹ì´ë‚˜ í¬ê¸° ì´ˆê³¼ ìƒí™©"                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì‹œë‚˜ë¦¬ì˜¤: ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒì¼ â†’ ì ì ˆí•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ë°˜í™˜    â”‚ â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸: test_validate_file_extension()                â”‚ â”‚
â”‚  â”‚        test_validate_file_size()                       â”‚ â”‚
â”‚  â”‚        test_upload_error_handling()                    â”‚ â”‚
â”‚  â”‚        test_error_response_contract()                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  ğŸ”§ ì˜ˆì™¸ ì‹œë‚˜ë¦¬ì˜¤ (Edge Cases)                              â”‚
â”‚  "íŠ¹ìˆ˜í•œ ìƒí™©ì´ë‚˜ ê²½ê³„ê°’ ì²˜ë¦¬"                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì‹œë‚˜ë¦¬ì˜¤: ë™ì‹œ ì—…ë¡œë“œ, ë¹ˆ íŒŒì¼, íŠ¹ìˆ˜ë¬¸ì íŒŒì¼ëª… ë“±        â”‚ â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸: test_concurrent_upload_handling()              â”‚ â”‚
â”‚  â”‚        test_empty_file_handling()                      â”‚ â”‚
â”‚  â”‚        test_special_characters_filename()              â”‚ â”‚
â”‚  â”‚        test_storage_full_handling()                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  ğŸ“± ì‚¬ìš©ì ê²½í—˜ ì‹œë‚˜ë¦¬ì˜¤                                     â”‚
â”‚  "íŒŒì¼ ì—…ë¡œë“œ í›„ ê²Œì‹œê¸€ì—ì„œ ì´ë¯¸ì§€ í‘œì‹œ"                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì‹œë‚˜ë¦¬ì˜¤: ì—…ë¡œë“œ â†’ ê²Œì‹œê¸€ ì €ì¥ â†’ ëª©ë¡ì—ì„œ ì´ë¯¸ì§€ í‘œì‹œ     â”‚ â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸: test_get_file_endpoint()                       â”‚ â”‚
â”‚  â”‚        test_file_url_generation()                      â”‚ â”‚
â”‚  â”‚        test_image_display_integration()                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  ğŸ—‘ï¸ íŒŒì¼ ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤                                      â”‚
â”‚  "ì—…ë¡œë“œí•œ íŒŒì¼ ì‚­ì œ ë° ì •ë¦¬"                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì‹œë‚˜ë¦¬ì˜¤: íŒŒì¼ ì‚­ì œ â†’ ê²Œì‹œê¸€ ì°¸ì¡° ì •ë¦¬ â†’ ë¬¼ë¦¬ì  íŒŒì¼ ì‚­ì œ  â”‚ â”‚
â”‚  â”‚ í…ŒìŠ¤íŠ¸: test_delete_permission_check()                 â”‚ â”‚
â”‚  â”‚        test_delete_with_cleanup()                      â”‚ â”‚
â”‚  â”‚        test_update_file_references()                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. êµ¬í˜„ ìˆœì„œ ì œì•ˆ

### ìš°ì„ ìˆœìœ„ë³„ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ë¶„ë¥˜ ë° ë‹¨ê³„ë³„ êµ¬í˜„ ë¡œë“œë§µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ êµ¬í˜„ ë‹¨ê³„ë³„ ë¡œë“œë§µ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  1ï¸âƒ£ 1ë‹¨ê³„: ğŸŸ¦ í•„ìˆ˜ (MVP) - ì‹œìŠ¤í…œ ì•ˆì •ì„± í•µì‹¬     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“‹ ì •ìƒ ì‹œë‚˜ë¦¬ì˜¤ (Happy Path)                â”‚ â”‚
â”‚  â”‚ â‘  test_validate_file_type() ğŸŸ¢ ì´ˆê¸‰ âš¡ë³‘ë ¬    â”‚ â”‚
â”‚  â”‚ â‘¡ test_validate_file_size() ğŸŸ¢ ì´ˆê¸‰ âš¡ë³‘ë ¬    â”‚ â”‚
â”‚  â”‚ â‘¢ test_generate_file_path() ğŸŸ¡ ì¤‘ê¸‰ âš¡ë³‘ë ¬    â”‚ â”‚
â”‚  â”‚ â‘£ test_save_file_to_disk() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨     â”‚ â”‚
â”‚  â”‚ â‘¤ test_save_file_metadata() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨   â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ âš ï¸ ì˜¤ë¥˜ ì²˜ë¦¬ (Error Handling)               â”‚ â”‚
â”‚  â”‚ â‘¥ test_invalid_file_type_rejection() ğŸŸ¢ ì´ˆê¸‰ âš¡ë³‘ë ¬ â”‚ â”‚
â”‚  â”‚ â‘¦ test_oversized_file_rejection() ğŸŸ¢ ì´ˆê¸‰ âš¡ë³‘ë ¬ â”‚ â”‚
â”‚  â”‚ â‘§ test_handle_storage_errors() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ ğŸ”Œ API ê³„ì•½ (Contract)                     â”‚ â”‚
â”‚  â”‚ â‘¨ test_upload_request_contract() ğŸŸ¢ ì´ˆê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘© test_upload_response_contract() ğŸŸ¢ ì´ˆê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘ª test_upload_endpoint_success() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  ì˜ˆìƒ êµ¬í˜„ ì‹œê°„: 1-2ì¼                            â”‚
â”‚                                                   â”‚
â”‚  2ï¸âƒ£ 2ë‹¨ê³„: ğŸŸ¡ ê¶Œì¥ (ì•ˆì •í™”) - ì‚¬ìš©ì ê²½í—˜ ê°œì„     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“‹ ì •ìƒ ì‹œë‚˜ë¦¬ì˜¤                             â”‚ â”‚
â”‚  â”‚ â‘  test_extract_file_metadata() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘¡ test_get_file_endpoint() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨     â”‚ â”‚
â”‚  â”‚ â‘¢ test_get_file_info_endpoint() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ âš ï¸ ì˜¤ë¥˜ ì²˜ë¦¬                                â”‚ â”‚
â”‚  â”‚ â‘£ test_file_not_found_handling() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘¤ test_authentication_check() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨  â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ ğŸ”Œ API ê³„ì•½                                â”‚ â”‚
â”‚  â”‚ â‘¥ test_file_endpoint_contract() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘¦ test_error_response_contract() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  ì˜ˆìƒ êµ¬í˜„ ì‹œê°„: 1ì¼                              â”‚
â”‚                                                   â”‚
â”‚  3ï¸âƒ£ 3ë‹¨ê³„: ğŸŸ¢ ì„ íƒ (ìµœì í™”) - ê³ ê¸‰ ê¸°ëŠ¥          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“‹ ì •ìƒ ì‹œë‚˜ë¦¬ì˜¤                             â”‚ â”‚
â”‚  â”‚ â‘  test_delete_file_endpoint() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨  â”‚ â”‚
â”‚  â”‚ â‘¡ test_delete_with_cleanup() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨   â”‚ â”‚
â”‚  â”‚ â‘¢ test_concurrent_upload_handling() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ âš ï¸ ì˜¤ë¥˜ ì²˜ë¦¬                                â”‚ â”‚
â”‚  â”‚ â‘£ test_delete_permission_check() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚ â‘¤ test_storage_full_handling() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚ ğŸ”§ ì˜ˆì™¸ ì¼€ì´ìŠ¤                              â”‚ â”‚
â”‚  â”‚ â‘¥ test_empty_file_handling() ğŸŸ¡ ì¤‘ê¸‰ ğŸ”„ìˆœì°¨   â”‚ â”‚
â”‚  â”‚ â‘¦ test_special_characters_filename() ğŸŸ¡ ì¤‘ê¸‰ âš¡ë³‘ë ¬ â”‚ â”‚
â”‚  â”‚ â‘§ test_file_lifecycle_workflow() ğŸ”´ ê³ ê¸‰ ğŸ”„ìˆœì°¨ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  ì˜ˆìƒ êµ¬í˜„ ì‹œê°„: 2-3ì¼                            â”‚
â”‚                                                   â”‚
â”‚  ğŸ’¡ êµ¬í˜„ íŒ:                                    â”‚
â”‚  â€¢ âš¡ë³‘ë ¬: ë…ë¦½ì  ì‹¤í–‰ ê°€ëŠ¥ (ìƒíƒœ ë³€ê²½ ì—†ìŒ)        â”‚
â”‚  â€¢ ğŸ”„ìˆœì°¨: ìˆœì°¨ ì‹¤í–‰ í•„ìš” (ê³µìœ  ë¦¬ì†ŒìŠ¤ ì‚¬ìš©)       â”‚
â”‚  â€¢ ğŸŸ¢ ì´ˆê¸‰ â†’ ğŸŸ¡ ì¤‘ê¸‰ â†’ ğŸ”´ ê³ ê¸‰ ìˆœì„œë¡œ ì§„í–‰       â”‚
â”‚  â€¢ ê° ë‹¨ê³„ ì™„ë£Œ í›„ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™              â”‚
â”‚  â€¢ ğŸŸ¦ í•„ìˆ˜ ì™„ë£Œ ì‹œì ì—ì„œ MVP ë°°í¬ ê°€ëŠ¥           â”‚
â”‚  â€¢ í”„ëŸ°íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸ëŠ” 2ë‹¨ê³„ ì™„ë£Œ í›„ ì§„í–‰     â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë‹¨ê³„ë³„ í•µì‹¬ ê²€ì¦ í¬ì¸íŠ¸

**1ë‹¨ê³„ (MVP) ì™„ë£Œ í›„ ê²€ì¦:**
- íŒŒì¼ ì—…ë¡œë“œ ê¸°ë³¸ ê¸°ëŠ¥ ë™ì‘
- íŒŒì¼ í˜•ì‹ ë° í¬ê¸° ì œí•œ ì ìš©
- API ê¸°ë³¸ ê³„ì•½ ì¤€ìˆ˜
- ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ì •ìƒ ë™ì‘

**2ë‹¨ê³„ (ì•ˆì •í™”) ì™„ë£Œ í›„ ê²€ì¦:**
- íŒŒì¼ ì¡°íšŒ ë° ë©”íƒ€ë°ì´í„° ë°˜í™˜
- ì˜¤ë¥˜ ìƒí™© ì ì ˆí•œ ì²˜ë¦¬
- ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ í™•ì¸

**3ë‹¨ê³„ (ìµœì í™”) ì™„ë£Œ í›„ ê²€ì¦:**
- íŒŒì¼ ì‚­ì œ ë° ì •ë¦¬ ê¸°ëŠ¥
- ë™ì‹œì„± ì²˜ë¦¬ ë° ì˜ˆì™¸ ìƒí™© ëŒ€ì‘
- ì „ì²´ íŒŒì¼ ìƒëª…ì£¼ê¸° ê´€ë¦¬

### í”„ëŸ°íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸ ê³„íš

2ë‹¨ê³„ ì™„ë£Œ í›„ ì‹¤í–‰í•  í†µí•© í…ŒìŠ¤íŠ¸:

```python
def test_frontend_file_upload_integration():
    """
    ì‹¤ì œ HTML UIì—ì„œ íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
    
    ê²€ì¦ í•­ëª©:
    1. íŒŒì¼ ì„ íƒ â†’ ì—…ë¡œë“œ ìš”ì²­ â†’ ì‘ë‹µ ì²˜ë¦¬
    2. ì—…ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ (êµ¬í˜„ ì‹œ)
    3. ì„±ê³µ/ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
    4. ì—…ë¡œë“œëœ íŒŒì¼ ê²Œì‹œê¸€ì—ì„œ í‘œì‹œ
    """
    pass

def test_user_workflow_post_with_images():
    """
    ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš°: ì´ë¯¸ì§€ í¬í•¨ ê²Œì‹œê¸€ ì‘ì„±
    
    ì‹œë‚˜ë¦¬ì˜¤:
    - ë¡œê·¸ì¸ â†’ ê²Œì‹œê¸€ ì‘ì„± â†’ ì´ë¯¸ì§€ ì²¨ë¶€ â†’ ê²Œì‹œ â†’ ëª©ë¡ì—ì„œ í™•ì¸
    """
    pass
```

---

ì´ ê°œìš”ëŠ” íŒŒì¼ API êµ¬í˜„ì„ ìœ„í•œ ì²´ê³„ì ì¸ í…ŒìŠ¤íŠ¸ ì „ëµì„ ì œì‹œí•˜ë©°, Classic TDD ì›ì¹™ì„ ì¤€ìˆ˜í•˜ì—¬ ì•ˆì •ì ì´ê³  ì‹¤ìš©ì ì¸ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.